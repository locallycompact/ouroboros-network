<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><link rel="stylesheet" type="text/css" href="style.css" /><script type="text/javascript" src="highlight.js"></script></head><body><pre><span id="%24con2tag_GHKYs0kHxAk4HLWLu9UCAl"></span><span class="hs-pragma">{-# LANGUAGE GADTs                      #-}</span><span>
</span><span id="line-2"></span><span class="hs-pragma">{-# LANGUAGE GeneralizedNewtypeDeriving #-}</span><span>
</span><span id="line-3"></span><span class="hs-pragma">{-# LANGUAGE ScopedTypeVariables        #-}</span><span>
</span><span id="line-4"></span><span class="hs-pragma">{-# LANGUAGE StandaloneDeriving         #-}</span><span>
</span><span id="line-5"></span><span>
</span><span id="line-6"></span><span class="hs-comment">-- | Common types shared between `IOSim` and `IOSimPOR`.</span><span>
</span><span id="line-7"></span><span class="hs-comment">--</span><span>
</span><span id="line-8"></span><span class="hs-keyword">module</span><span> </span><span class="hs-identifier">Control.Monad.IOSim.CommonTypes</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-9"></span><span>
</span><span id="line-10"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.4/io-classes-0.2.0.0/noopt/doc/html/io-classes/src"><span class="hs-identifier">Control.Monad.Class.MonadSTM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.4/io-classes-0.2.0.0/noopt/doc/html/io-classes/src"><span class="hs-identifier">TraceValue</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-11"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="../file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/base-4.14.1.0/src"><span class="hs-identifier">Control.Monad.ST.Lazy</span></a></span><span>
</span><span id="line-12"></span><span>
</span><span id="line-13"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="../file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/containers-0.6.2.1/src"><span class="hs-identifier">Data.Map</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/containers-0.6.2.1/src"><span class="hs-identifier">Map</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-14"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="../file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/containers-0.6.2.1/src"><span class="hs-identifier">Data.Set</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/containers-0.6.2.1/src"><span class="hs-identifier">Set</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-15"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="../file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/base-4.14.1.0/src"><span class="hs-identifier">Data.STRef.Lazy</span></a></span><span>
</span><span id="line-16"></span><span>
</span><span id="line-17"></span><span class="hs-keyword">data</span><span> </span><span id="ThreadId"><span class="annot"><a href="Control.Monad.IOSim.CommonTypes.html#ThreadId"><span class="hs-identifier hs-var">ThreadId</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="RacyThreadId"><span class="annot"><a href="Control.Monad.IOSim.CommonTypes.html#RacyThreadId"><span class="hs-identifier hs-var">RacyThreadId</span></a></span></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="../file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/ghc-prim-0.6.1/src"><span class="hs-identifier hs-type">Int</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-18"></span><span>              </span><span class="hs-glyph">|</span><span> </span><span id="ThreadId"><span class="annot"><a href="Control.Monad.IOSim.CommonTypes.html#ThreadId"><span class="hs-identifier hs-var">ThreadId</span></a></span></span><span>     </span><span class="hs-special">[</span><span class="annot"><a href="../file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/ghc-prim-0.6.1/src"><span class="hs-identifier hs-type">Int</span></a></span><span class="hs-special">]</span><span>    </span><span class="hs-comment">-- non racy threads have higher priority</span><span>
</span><span id="line-19"></span><span>  </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679106679"><span id="local-6989586621679106681"><span class="annot"><span class="annottext">ThreadId -&gt; ThreadId -&gt; Bool
(ThreadId -&gt; ThreadId -&gt; Bool)
-&gt; (ThreadId -&gt; ThreadId -&gt; Bool) -&gt; Eq ThreadId
forall a. (a -&gt; a -&gt; Bool) -&gt; (a -&gt; a -&gt; Bool) -&gt; Eq a
/= :: ThreadId -&gt; ThreadId -&gt; Bool
$c/= :: ThreadId -&gt; ThreadId -&gt; Bool
== :: ThreadId -&gt; ThreadId -&gt; Bool
$c== :: ThreadId -&gt; ThreadId -&gt; Bool
</span><a href="../file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/ghc-prim-0.6.1/src"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Eq</span></a></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679106663"><span id="local-6989586621679106665"><span id="local-6989586621679106667"><span id="local-6989586621679106669"><span id="local-6989586621679106671"><span id="local-6989586621679106673"><span id="local-6989586621679106675"><span class="annot"><span class="annottext">Eq ThreadId
Eq ThreadId
-&gt; (ThreadId -&gt; ThreadId -&gt; Ordering)
-&gt; (ThreadId -&gt; ThreadId -&gt; Bool)
-&gt; (ThreadId -&gt; ThreadId -&gt; Bool)
-&gt; (ThreadId -&gt; ThreadId -&gt; Bool)
-&gt; (ThreadId -&gt; ThreadId -&gt; Bool)
-&gt; (ThreadId -&gt; ThreadId -&gt; ThreadId)
-&gt; (ThreadId -&gt; ThreadId -&gt; ThreadId)
-&gt; Ord ThreadId
ThreadId -&gt; ThreadId -&gt; Bool
ThreadId -&gt; ThreadId -&gt; Ordering
ThreadId -&gt; ThreadId -&gt; ThreadId
forall a.
Eq a
-&gt; (a -&gt; a -&gt; Ordering)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; a)
-&gt; (a -&gt; a -&gt; a)
-&gt; Ord a
min :: ThreadId -&gt; ThreadId -&gt; ThreadId
$cmin :: ThreadId -&gt; ThreadId -&gt; ThreadId
max :: ThreadId -&gt; ThreadId -&gt; ThreadId
$cmax :: ThreadId -&gt; ThreadId -&gt; ThreadId
&gt;= :: ThreadId -&gt; ThreadId -&gt; Bool
$c&gt;= :: ThreadId -&gt; ThreadId -&gt; Bool
&gt; :: ThreadId -&gt; ThreadId -&gt; Bool
$c&gt; :: ThreadId -&gt; ThreadId -&gt; Bool
&lt;= :: ThreadId -&gt; ThreadId -&gt; Bool
$c&lt;= :: ThreadId -&gt; ThreadId -&gt; Bool
&lt; :: ThreadId -&gt; ThreadId -&gt; Bool
$c&lt; :: ThreadId -&gt; ThreadId -&gt; Bool
compare :: ThreadId -&gt; ThreadId -&gt; Ordering
$ccompare :: ThreadId -&gt; ThreadId -&gt; Ordering
$cp1Ord :: Eq ThreadId
</span><a href="../file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/ghc-prim-0.6.1/src"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Ord</span></a></span></span></span></span></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679106656"><span id="local-6989586621679106658"><span id="local-6989586621679106660"><span class="annot"><span class="annottext">Int -&gt; ThreadId -&gt; ShowS
[ThreadId] -&gt; ShowS
ThreadId -&gt; String
(Int -&gt; ThreadId -&gt; ShowS)
-&gt; (ThreadId -&gt; String) -&gt; ([ThreadId] -&gt; ShowS) -&gt; Show ThreadId
forall a.
(Int -&gt; a -&gt; ShowS) -&gt; (a -&gt; String) -&gt; ([a] -&gt; ShowS) -&gt; Show a
showList :: [ThreadId] -&gt; ShowS
$cshowList :: [ThreadId] -&gt; ShowS
show :: ThreadId -&gt; String
$cshow :: ThreadId -&gt; String
showsPrec :: Int -&gt; ThreadId -&gt; ShowS
$cshowsPrec :: Int -&gt; ThreadId -&gt; ShowS
</span><a href="../file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/base-4.14.1.0/src"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Show</span></a></span></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-20"></span><span>
</span><span id="line-21"></span><span class="annot"><a href="Control.Monad.IOSim.CommonTypes.html#childThreadId"><span class="hs-identifier hs-type">childThreadId</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Control.Monad.IOSim.CommonTypes.html#ThreadId"><span class="hs-identifier hs-type">ThreadId</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/ghc-prim-0.6.1/src"><span class="hs-identifier hs-type">Int</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Control.Monad.IOSim.CommonTypes.html#ThreadId"><span class="hs-identifier hs-type">ThreadId</span></a></span><span>
</span><span id="line-22"></span><span id="childThreadId"><span class="annot"><span class="annottext">childThreadId :: ThreadId -&gt; Int -&gt; ThreadId
</span><a href="Control.Monad.IOSim.CommonTypes.html#childThreadId"><span class="hs-identifier hs-var hs-var">childThreadId</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Control.Monad.IOSim.CommonTypes.html#RacyThreadId"><span class="hs-identifier hs-type">RacyThreadId</span></a></span><span> </span><span id="local-6989586621679106653"><span class="annot"><span class="annottext">[Int]
</span><a href="#local-6989586621679106653"><span class="hs-identifier hs-var">is</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621679106652"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679106652"><span class="hs-identifier hs-var">i</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[Int] -&gt; ThreadId
</span><a href="Control.Monad.IOSim.CommonTypes.html#RacyThreadId"><span class="hs-identifier hs-var">RacyThreadId</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[Int]
</span><a href="#local-6989586621679106653"><span class="hs-identifier hs-var">is</span></a></span><span> </span><span class="annot"><span class="annottext">[Int] -&gt; [Int] -&gt; [Int]
forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/base-4.14.1.0/src"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679106652"><span class="hs-identifier hs-var">i</span></a></span><span class="hs-special">]</span><span class="hs-special">)</span><span>
</span><span id="line-23"></span><span class="annot"><a href="Control.Monad.IOSim.CommonTypes.html#childThreadId"><span class="hs-identifier hs-var">childThreadId</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Control.Monad.IOSim.CommonTypes.html#ThreadId"><span class="hs-identifier hs-type">ThreadId</span></a></span><span>     </span><span id="local-6989586621679106651"><span class="annot"><span class="annottext">[Int]
</span><a href="#local-6989586621679106651"><span class="hs-identifier hs-var">is</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621679106650"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679106650"><span class="hs-identifier hs-var">i</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[Int] -&gt; ThreadId
</span><a href="Control.Monad.IOSim.CommonTypes.html#ThreadId"><span class="hs-identifier hs-var">ThreadId</span></a></span><span>     </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[Int]
</span><a href="#local-6989586621679106651"><span class="hs-identifier hs-var">is</span></a></span><span> </span><span class="annot"><span class="annottext">[Int] -&gt; [Int] -&gt; [Int]
forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/base-4.14.1.0/src"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679106650"><span class="hs-identifier hs-var">i</span></a></span><span class="hs-special">]</span><span class="hs-special">)</span><span>
</span><span id="line-24"></span><span>
</span><span id="line-25"></span><span class="annot"><a href="Control.Monad.IOSim.CommonTypes.html#setRacyThread"><span class="hs-identifier hs-type">setRacyThread</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Control.Monad.IOSim.CommonTypes.html#ThreadId"><span class="hs-identifier hs-type">ThreadId</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Control.Monad.IOSim.CommonTypes.html#ThreadId"><span class="hs-identifier hs-type">ThreadId</span></a></span><span>
</span><span id="line-26"></span><span id="setRacyThread"><span class="annot"><span class="annottext">setRacyThread :: ThreadId -&gt; ThreadId
</span><a href="Control.Monad.IOSim.CommonTypes.html#setRacyThread"><span class="hs-identifier hs-var hs-var">setRacyThread</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Control.Monad.IOSim.CommonTypes.html#ThreadId"><span class="hs-identifier hs-type">ThreadId</span></a></span><span> </span><span id="local-6989586621679106648"><span class="annot"><span class="annottext">[Int]
</span><a href="#local-6989586621679106648"><span class="hs-identifier hs-var">is</span></a></span></span><span class="hs-special">)</span><span>      </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[Int] -&gt; ThreadId
</span><a href="Control.Monad.IOSim.CommonTypes.html#RacyThreadId"><span class="hs-identifier hs-var">RacyThreadId</span></a></span><span> </span><span class="annot"><span class="annottext">[Int]
</span><a href="#local-6989586621679106648"><span class="hs-identifier hs-var">is</span></a></span><span>
</span><span id="line-27"></span><span class="annot"><a href="Control.Monad.IOSim.CommonTypes.html#setRacyThread"><span class="hs-identifier hs-var">setRacyThread</span></a></span><span> </span><span id="local-6989586621679106647"><span class="annot"><span class="annottext">tid :: ThreadId
</span><a href="#local-6989586621679106647"><span class="hs-identifier hs-var">tid</span></a></span></span><span class="hs-glyph">@</span><span class="annot"><a href="Control.Monad.IOSim.CommonTypes.html#RacyThreadId"><span class="hs-identifier hs-type">RacyThreadId</span></a></span><span class="hs-special">{</span><span class="hs-special">}</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ThreadId
</span><a href="#local-6989586621679106647"><span class="hs-identifier hs-var">tid</span></a></span><span>
</span><span id="line-28"></span><span>
</span><span id="line-29"></span><span>
</span><span id="line-30"></span><span class="hs-keyword">newtype</span><span> </span><span id="TVarId"><span class="annot"><a href="Control.Monad.IOSim.CommonTypes.html#TVarId"><span class="hs-identifier hs-var">TVarId</span></a></span></span><span>      </span><span class="hs-glyph">=</span><span> </span><span id="TVarId"><span class="annot"><a href="Control.Monad.IOSim.CommonTypes.html#TVarId"><span class="hs-identifier hs-var">TVarId</span></a></span></span><span>    </span><span class="annot"><a href="../file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/ghc-prim-0.6.1/src"><span class="hs-identifier hs-type">Int</span></a></span><span>   </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679106642"><span id="local-6989586621679106644"><span class="annot"><span class="annottext">TVarId -&gt; TVarId -&gt; Bool
(TVarId -&gt; TVarId -&gt; Bool)
-&gt; (TVarId -&gt; TVarId -&gt; Bool) -&gt; Eq TVarId
forall a. (a -&gt; a -&gt; Bool) -&gt; (a -&gt; a -&gt; Bool) -&gt; Eq a
/= :: TVarId -&gt; TVarId -&gt; Bool
$c/= :: TVarId -&gt; TVarId -&gt; Bool
== :: TVarId -&gt; TVarId -&gt; Bool
$c== :: TVarId -&gt; TVarId -&gt; Bool
</span><a href="../file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/ghc-prim-0.6.1/src"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Eq</span></a></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679106627"><span id="local-6989586621679106629"><span id="local-6989586621679106631"><span id="local-6989586621679106633"><span id="local-6989586621679106635"><span id="local-6989586621679106637"><span id="local-6989586621679106639"><span class="annot"><span class="annottext">Eq TVarId
Eq TVarId
-&gt; (TVarId -&gt; TVarId -&gt; Ordering)
-&gt; (TVarId -&gt; TVarId -&gt; Bool)
-&gt; (TVarId -&gt; TVarId -&gt; Bool)
-&gt; (TVarId -&gt; TVarId -&gt; Bool)
-&gt; (TVarId -&gt; TVarId -&gt; Bool)
-&gt; (TVarId -&gt; TVarId -&gt; TVarId)
-&gt; (TVarId -&gt; TVarId -&gt; TVarId)
-&gt; Ord TVarId
TVarId -&gt; TVarId -&gt; Bool
TVarId -&gt; TVarId -&gt; Ordering
TVarId -&gt; TVarId -&gt; TVarId
forall a.
Eq a
-&gt; (a -&gt; a -&gt; Ordering)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; a)
-&gt; (a -&gt; a -&gt; a)
-&gt; Ord a
min :: TVarId -&gt; TVarId -&gt; TVarId
$cmin :: TVarId -&gt; TVarId -&gt; TVarId
max :: TVarId -&gt; TVarId -&gt; TVarId
$cmax :: TVarId -&gt; TVarId -&gt; TVarId
&gt;= :: TVarId -&gt; TVarId -&gt; Bool
$c&gt;= :: TVarId -&gt; TVarId -&gt; Bool
&gt; :: TVarId -&gt; TVarId -&gt; Bool
$c&gt; :: TVarId -&gt; TVarId -&gt; Bool
&lt;= :: TVarId -&gt; TVarId -&gt; Bool
$c&lt;= :: TVarId -&gt; TVarId -&gt; Bool
&lt; :: TVarId -&gt; TVarId -&gt; Bool
$c&lt; :: TVarId -&gt; TVarId -&gt; Bool
compare :: TVarId -&gt; TVarId -&gt; Ordering
$ccompare :: TVarId -&gt; TVarId -&gt; Ordering
$cp1Ord :: Eq TVarId
</span><a href="../file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/ghc-prim-0.6.1/src"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Ord</span></a></span></span></span></span></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679106611"><span id="local-6989586621679106613"><span id="local-6989586621679106615"><span id="local-6989586621679106617"><span id="local-6989586621679106619"><span id="local-6989586621679106621"><span id="local-6989586621679106623"><span id="local-6989586621679106625"><span class="annot"><span class="annottext">Int -&gt; TVarId
TVarId -&gt; Int
TVarId -&gt; [TVarId]
TVarId -&gt; TVarId
TVarId -&gt; TVarId -&gt; [TVarId]
TVarId -&gt; TVarId -&gt; TVarId -&gt; [TVarId]
(TVarId -&gt; TVarId)
-&gt; (TVarId -&gt; TVarId)
-&gt; (Int -&gt; TVarId)
-&gt; (TVarId -&gt; Int)
-&gt; (TVarId -&gt; [TVarId])
-&gt; (TVarId -&gt; TVarId -&gt; [TVarId])
-&gt; (TVarId -&gt; TVarId -&gt; [TVarId])
-&gt; (TVarId -&gt; TVarId -&gt; TVarId -&gt; [TVarId])
-&gt; Enum TVarId
forall a.
(a -&gt; a)
-&gt; (a -&gt; a)
-&gt; (Int -&gt; a)
-&gt; (a -&gt; Int)
-&gt; (a -&gt; [a])
-&gt; (a -&gt; a -&gt; [a])
-&gt; (a -&gt; a -&gt; [a])
-&gt; (a -&gt; a -&gt; a -&gt; [a])
-&gt; Enum a
enumFromThenTo :: TVarId -&gt; TVarId -&gt; TVarId -&gt; [TVarId]
$cenumFromThenTo :: TVarId -&gt; TVarId -&gt; TVarId -&gt; [TVarId]
enumFromTo :: TVarId -&gt; TVarId -&gt; [TVarId]
$cenumFromTo :: TVarId -&gt; TVarId -&gt; [TVarId]
enumFromThen :: TVarId -&gt; TVarId -&gt; [TVarId]
$cenumFromThen :: TVarId -&gt; TVarId -&gt; [TVarId]
enumFrom :: TVarId -&gt; [TVarId]
$cenumFrom :: TVarId -&gt; [TVarId]
fromEnum :: TVarId -&gt; Int
$cfromEnum :: TVarId -&gt; Int
toEnum :: Int -&gt; TVarId
$ctoEnum :: Int -&gt; TVarId
pred :: TVarId -&gt; TVarId
$cpred :: TVarId -&gt; TVarId
succ :: TVarId -&gt; TVarId
$csucc :: TVarId -&gt; TVarId
</span><a href="../file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/base-4.14.1.0/src"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Enum</span></a></span></span></span></span></span></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679106604"><span id="local-6989586621679106606"><span id="local-6989586621679106608"><span class="annot"><span class="annottext">Int -&gt; TVarId -&gt; ShowS
[TVarId] -&gt; ShowS
TVarId -&gt; String
(Int -&gt; TVarId -&gt; ShowS)
-&gt; (TVarId -&gt; String) -&gt; ([TVarId] -&gt; ShowS) -&gt; Show TVarId
forall a.
(Int -&gt; a -&gt; ShowS) -&gt; (a -&gt; String) -&gt; ([a] -&gt; ShowS) -&gt; Show a
showList :: [TVarId] -&gt; ShowS
$cshowList :: [TVarId] -&gt; ShowS
show :: TVarId -&gt; String
$cshow :: TVarId -&gt; String
showsPrec :: Int -&gt; TVarId -&gt; ShowS
$cshowsPrec :: Int -&gt; TVarId -&gt; ShowS
</span><a href="../file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/base-4.14.1.0/src"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Show</span></a></span></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-31"></span><span class="hs-keyword">newtype</span><span> </span><span id="TimeoutId"><span class="annot"><a href="Control.Monad.IOSim.CommonTypes.html#TimeoutId"><span class="hs-identifier hs-var">TimeoutId</span></a></span></span><span>   </span><span class="hs-glyph">=</span><span> </span><span id="TimeoutId"><span class="annot"><a href="Control.Monad.IOSim.CommonTypes.html#TimeoutId"><span class="hs-identifier hs-var">TimeoutId</span></a></span></span><span> </span><span class="annot"><a href="../file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/ghc-prim-0.6.1/src"><span class="hs-identifier hs-type">Int</span></a></span><span>   </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679106599"><span id="local-6989586621679106601"><span class="annot"><span class="annottext">TimeoutId -&gt; TimeoutId -&gt; Bool
(TimeoutId -&gt; TimeoutId -&gt; Bool)
-&gt; (TimeoutId -&gt; TimeoutId -&gt; Bool) -&gt; Eq TimeoutId
forall a. (a -&gt; a -&gt; Bool) -&gt; (a -&gt; a -&gt; Bool) -&gt; Eq a
/= :: TimeoutId -&gt; TimeoutId -&gt; Bool
$c/= :: TimeoutId -&gt; TimeoutId -&gt; Bool
== :: TimeoutId -&gt; TimeoutId -&gt; Bool
$c== :: TimeoutId -&gt; TimeoutId -&gt; Bool
</span><a href="../file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/ghc-prim-0.6.1/src"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Eq</span></a></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679106584"><span id="local-6989586621679106586"><span id="local-6989586621679106588"><span id="local-6989586621679106590"><span id="local-6989586621679106592"><span id="local-6989586621679106594"><span id="local-6989586621679106596"><span class="annot"><span class="annottext">Eq TimeoutId
Eq TimeoutId
-&gt; (TimeoutId -&gt; TimeoutId -&gt; Ordering)
-&gt; (TimeoutId -&gt; TimeoutId -&gt; Bool)
-&gt; (TimeoutId -&gt; TimeoutId -&gt; Bool)
-&gt; (TimeoutId -&gt; TimeoutId -&gt; Bool)
-&gt; (TimeoutId -&gt; TimeoutId -&gt; Bool)
-&gt; (TimeoutId -&gt; TimeoutId -&gt; TimeoutId)
-&gt; (TimeoutId -&gt; TimeoutId -&gt; TimeoutId)
-&gt; Ord TimeoutId
TimeoutId -&gt; TimeoutId -&gt; Bool
TimeoutId -&gt; TimeoutId -&gt; Ordering
TimeoutId -&gt; TimeoutId -&gt; TimeoutId
forall a.
Eq a
-&gt; (a -&gt; a -&gt; Ordering)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; a)
-&gt; (a -&gt; a -&gt; a)
-&gt; Ord a
min :: TimeoutId -&gt; TimeoutId -&gt; TimeoutId
$cmin :: TimeoutId -&gt; TimeoutId -&gt; TimeoutId
max :: TimeoutId -&gt; TimeoutId -&gt; TimeoutId
$cmax :: TimeoutId -&gt; TimeoutId -&gt; TimeoutId
&gt;= :: TimeoutId -&gt; TimeoutId -&gt; Bool
$c&gt;= :: TimeoutId -&gt; TimeoutId -&gt; Bool
&gt; :: TimeoutId -&gt; TimeoutId -&gt; Bool
$c&gt; :: TimeoutId -&gt; TimeoutId -&gt; Bool
&lt;= :: TimeoutId -&gt; TimeoutId -&gt; Bool
$c&lt;= :: TimeoutId -&gt; TimeoutId -&gt; Bool
&lt; :: TimeoutId -&gt; TimeoutId -&gt; Bool
$c&lt; :: TimeoutId -&gt; TimeoutId -&gt; Bool
compare :: TimeoutId -&gt; TimeoutId -&gt; Ordering
$ccompare :: TimeoutId -&gt; TimeoutId -&gt; Ordering
$cp1Ord :: Eq TimeoutId
</span><a href="../file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/ghc-prim-0.6.1/src"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Ord</span></a></span></span></span></span></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679106568"><span id="local-6989586621679106570"><span id="local-6989586621679106572"><span id="local-6989586621679106574"><span id="local-6989586621679106576"><span id="local-6989586621679106578"><span id="local-6989586621679106580"><span id="local-6989586621679106582"><span class="annot"><span class="annottext">Int -&gt; TimeoutId
TimeoutId -&gt; Int
TimeoutId -&gt; [TimeoutId]
TimeoutId -&gt; TimeoutId
TimeoutId -&gt; TimeoutId -&gt; [TimeoutId]
TimeoutId -&gt; TimeoutId -&gt; TimeoutId -&gt; [TimeoutId]
(TimeoutId -&gt; TimeoutId)
-&gt; (TimeoutId -&gt; TimeoutId)
-&gt; (Int -&gt; TimeoutId)
-&gt; (TimeoutId -&gt; Int)
-&gt; (TimeoutId -&gt; [TimeoutId])
-&gt; (TimeoutId -&gt; TimeoutId -&gt; [TimeoutId])
-&gt; (TimeoutId -&gt; TimeoutId -&gt; [TimeoutId])
-&gt; (TimeoutId -&gt; TimeoutId -&gt; TimeoutId -&gt; [TimeoutId])
-&gt; Enum TimeoutId
forall a.
(a -&gt; a)
-&gt; (a -&gt; a)
-&gt; (Int -&gt; a)
-&gt; (a -&gt; Int)
-&gt; (a -&gt; [a])
-&gt; (a -&gt; a -&gt; [a])
-&gt; (a -&gt; a -&gt; [a])
-&gt; (a -&gt; a -&gt; a -&gt; [a])
-&gt; Enum a
enumFromThenTo :: TimeoutId -&gt; TimeoutId -&gt; TimeoutId -&gt; [TimeoutId]
$cenumFromThenTo :: TimeoutId -&gt; TimeoutId -&gt; TimeoutId -&gt; [TimeoutId]
enumFromTo :: TimeoutId -&gt; TimeoutId -&gt; [TimeoutId]
$cenumFromTo :: TimeoutId -&gt; TimeoutId -&gt; [TimeoutId]
enumFromThen :: TimeoutId -&gt; TimeoutId -&gt; [TimeoutId]
$cenumFromThen :: TimeoutId -&gt; TimeoutId -&gt; [TimeoutId]
enumFrom :: TimeoutId -&gt; [TimeoutId]
$cenumFrom :: TimeoutId -&gt; [TimeoutId]
fromEnum :: TimeoutId -&gt; Int
$cfromEnum :: TimeoutId -&gt; Int
toEnum :: Int -&gt; TimeoutId
$ctoEnum :: Int -&gt; TimeoutId
pred :: TimeoutId -&gt; TimeoutId
$cpred :: TimeoutId -&gt; TimeoutId
succ :: TimeoutId -&gt; TimeoutId
$csucc :: TimeoutId -&gt; TimeoutId
</span><a href="../file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/base-4.14.1.0/src"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Enum</span></a></span></span></span></span></span></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679106562"><span id="local-6989586621679106564"><span id="local-6989586621679106566"><span class="annot"><span class="annottext">Int -&gt; TimeoutId -&gt; ShowS
[TimeoutId] -&gt; ShowS
TimeoutId -&gt; String
(Int -&gt; TimeoutId -&gt; ShowS)
-&gt; (TimeoutId -&gt; String)
-&gt; ([TimeoutId] -&gt; ShowS)
-&gt; Show TimeoutId
forall a.
(Int -&gt; a -&gt; ShowS) -&gt; (a -&gt; String) -&gt; ([a] -&gt; ShowS) -&gt; Show a
showList :: [TimeoutId] -&gt; ShowS
$cshowList :: [TimeoutId] -&gt; ShowS
show :: TimeoutId -&gt; String
$cshow :: TimeoutId -&gt; String
showsPrec :: Int -&gt; TimeoutId -&gt; ShowS
$cshowsPrec :: Int -&gt; TimeoutId -&gt; ShowS
</span><a href="../file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/base-4.14.1.0/src"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Show</span></a></span></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-32"></span><span class="hs-keyword">newtype</span><span> </span><span id="ClockId"><span class="annot"><a href="Control.Monad.IOSim.CommonTypes.html#ClockId"><span class="hs-identifier hs-var">ClockId</span></a></span></span><span>     </span><span class="hs-glyph">=</span><span> </span><span id="ClockId"><span class="annot"><a href="Control.Monad.IOSim.CommonTypes.html#ClockId"><span class="hs-identifier hs-var">ClockId</span></a></span></span><span>   </span><span class="hs-special">[</span><span class="annot"><a href="../file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/ghc-prim-0.6.1/src"><span class="hs-identifier hs-type">Int</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679106557"><span id="local-6989586621679106559"><span class="annot"><span class="annottext">ClockId -&gt; ClockId -&gt; Bool
(ClockId -&gt; ClockId -&gt; Bool)
-&gt; (ClockId -&gt; ClockId -&gt; Bool) -&gt; Eq ClockId
forall a. (a -&gt; a -&gt; Bool) -&gt; (a -&gt; a -&gt; Bool) -&gt; Eq a
/= :: ClockId -&gt; ClockId -&gt; Bool
$c/= :: ClockId -&gt; ClockId -&gt; Bool
== :: ClockId -&gt; ClockId -&gt; Bool
$c== :: ClockId -&gt; ClockId -&gt; Bool
</span><a href="../file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/ghc-prim-0.6.1/src"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Eq</span></a></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679106542"><span id="local-6989586621679106544"><span id="local-6989586621679106546"><span id="local-6989586621679106548"><span id="local-6989586621679106550"><span id="local-6989586621679106552"><span id="local-6989586621679106554"><span class="annot"><span class="annottext">Eq ClockId
Eq ClockId
-&gt; (ClockId -&gt; ClockId -&gt; Ordering)
-&gt; (ClockId -&gt; ClockId -&gt; Bool)
-&gt; (ClockId -&gt; ClockId -&gt; Bool)
-&gt; (ClockId -&gt; ClockId -&gt; Bool)
-&gt; (ClockId -&gt; ClockId -&gt; Bool)
-&gt; (ClockId -&gt; ClockId -&gt; ClockId)
-&gt; (ClockId -&gt; ClockId -&gt; ClockId)
-&gt; Ord ClockId
ClockId -&gt; ClockId -&gt; Bool
ClockId -&gt; ClockId -&gt; Ordering
ClockId -&gt; ClockId -&gt; ClockId
forall a.
Eq a
-&gt; (a -&gt; a -&gt; Ordering)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; a)
-&gt; (a -&gt; a -&gt; a)
-&gt; Ord a
min :: ClockId -&gt; ClockId -&gt; ClockId
$cmin :: ClockId -&gt; ClockId -&gt; ClockId
max :: ClockId -&gt; ClockId -&gt; ClockId
$cmax :: ClockId -&gt; ClockId -&gt; ClockId
&gt;= :: ClockId -&gt; ClockId -&gt; Bool
$c&gt;= :: ClockId -&gt; ClockId -&gt; Bool
&gt; :: ClockId -&gt; ClockId -&gt; Bool
$c&gt; :: ClockId -&gt; ClockId -&gt; Bool
&lt;= :: ClockId -&gt; ClockId -&gt; Bool
$c&lt;= :: ClockId -&gt; ClockId -&gt; Bool
&lt; :: ClockId -&gt; ClockId -&gt; Bool
$c&lt; :: ClockId -&gt; ClockId -&gt; Bool
compare :: ClockId -&gt; ClockId -&gt; Ordering
$ccompare :: ClockId -&gt; ClockId -&gt; Ordering
$cp1Ord :: Eq ClockId
</span><a href="../file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/ghc-prim-0.6.1/src"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Ord</span></a></span></span></span></span></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679106536"><span id="local-6989586621679106538"><span id="local-6989586621679106540"><span class="annot"><span class="annottext">Int -&gt; ClockId -&gt; ShowS
[ClockId] -&gt; ShowS
ClockId -&gt; String
(Int -&gt; ClockId -&gt; ShowS)
-&gt; (ClockId -&gt; String) -&gt; ([ClockId] -&gt; ShowS) -&gt; Show ClockId
forall a.
(Int -&gt; a -&gt; ShowS) -&gt; (a -&gt; String) -&gt; ([a] -&gt; ShowS) -&gt; Show a
showList :: [ClockId] -&gt; ShowS
$cshowList :: [ClockId] -&gt; ShowS
show :: ClockId -&gt; String
$cshow :: ClockId -&gt; String
showsPrec :: Int -&gt; ClockId -&gt; ShowS
$cshowsPrec :: Int -&gt; ClockId -&gt; ShowS
</span><a href="../file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/base-4.14.1.0/src"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Show</span></a></span></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-33"></span><span class="hs-keyword">newtype</span><span> </span><span id="VectorClock"><span class="annot"><a href="Control.Monad.IOSim.CommonTypes.html#VectorClock"><span class="hs-identifier hs-var">VectorClock</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="VectorClock"><span class="annot"><a href="Control.Monad.IOSim.CommonTypes.html#VectorClock"><span class="hs-identifier hs-var">VectorClock</span></a></span></span><span> </span><span class="hs-special">{</span><span> </span><span id="getVectorClock"><span class="annot"><span class="annottext">VectorClock -&gt; Map ThreadId Int
</span><a href="Control.Monad.IOSim.CommonTypes.html#getVectorClock"><span class="hs-identifier hs-var hs-var">getVectorClock</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/containers-0.6.2.1/src"><span class="hs-identifier hs-type">Map</span></a></span><span> </span><span class="annot"><a href="Control.Monad.IOSim.CommonTypes.html#ThreadId"><span class="hs-identifier hs-type">ThreadId</span></a></span><span> </span><span class="annot"><a href="../file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/ghc-prim-0.6.1/src"><span class="hs-identifier hs-type">Int</span></a></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-34"></span><span>  </span><span class="hs-keyword">deriving</span><span> </span><span id="local-6989586621679106528"><span id="local-6989586621679106530"><span id="local-6989586621679106532"><span class="annot"><span class="annottext">Int -&gt; VectorClock -&gt; ShowS
[VectorClock] -&gt; ShowS
VectorClock -&gt; String
(Int -&gt; VectorClock -&gt; ShowS)
-&gt; (VectorClock -&gt; String)
-&gt; ([VectorClock] -&gt; ShowS)
-&gt; Show VectorClock
forall a.
(Int -&gt; a -&gt; ShowS) -&gt; (a -&gt; String) -&gt; ([a] -&gt; ShowS) -&gt; Show a
showList :: [VectorClock] -&gt; ShowS
$cshowList :: [VectorClock] -&gt; ShowS
show :: VectorClock -&gt; String
$cshow :: VectorClock -&gt; String
showsPrec :: Int -&gt; VectorClock -&gt; ShowS
$cshowsPrec :: Int -&gt; VectorClock -&gt; ShowS
</span><a href="../file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/base-4.14.1.0/src"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Show</span></a></span></span></span></span><span>
</span><span id="line-35"></span><span>
</span><span id="line-36"></span><span class="annot"><a href="Control.Monad.IOSim.CommonTypes.html#unTimeoutId"><span class="hs-identifier hs-type">unTimeoutId</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Control.Monad.IOSim.CommonTypes.html#TimeoutId"><span class="hs-identifier hs-type">TimeoutId</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/ghc-prim-0.6.1/src"><span class="hs-identifier hs-type">Int</span></a></span><span>
</span><span id="line-37"></span><span id="unTimeoutId"><span class="annot"><span class="annottext">unTimeoutId :: TimeoutId -&gt; Int
</span><a href="Control.Monad.IOSim.CommonTypes.html#unTimeoutId"><span class="hs-identifier hs-var hs-var">unTimeoutId</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Control.Monad.IOSim.CommonTypes.html#TimeoutId"><span class="hs-identifier hs-type">TimeoutId</span></a></span><span> </span><span id="local-6989586621679106526"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679106526"><span class="hs-identifier hs-var">a</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679106526"><span class="hs-identifier hs-var">a</span></a></span><span>
</span><span id="line-38"></span><span>
</span><span id="line-39"></span><span class="hs-keyword">type</span><span> </span><span id="ThreadLabel"><span class="annot"><a href="Control.Monad.IOSim.CommonTypes.html#ThreadLabel"><span class="hs-identifier hs-var">ThreadLabel</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="../file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/base-4.14.1.0/src"><span class="hs-identifier hs-type">String</span></a></span><span>
</span><span id="line-40"></span><span class="hs-keyword">type</span><span> </span><span id="TVarLabel"><span class="annot"><a href="Control.Monad.IOSim.CommonTypes.html#TVarLabel"><span class="hs-identifier hs-var">TVarLabel</span></a></span></span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="../file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/base-4.14.1.0/src"><span class="hs-identifier hs-type">String</span></a></span><span>
</span><span id="line-41"></span><span>
</span><span id="line-42"></span><span class="hs-keyword">data</span><span> </span><span id="TVar"><span class="annot"><a href="Control.Monad.IOSim.CommonTypes.html#TVar"><span class="hs-identifier hs-var">TVar</span></a></span></span><span> </span><span id="local-6989586621679106688"><span class="annot"><a href="#local-6989586621679106688"><span class="hs-identifier hs-type">s</span></a></span></span><span> </span><span id="local-6989586621679106687"><span class="annot"><a href="#local-6989586621679106687"><span class="hs-identifier hs-type">a</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="TVar"><span class="annot"><a href="Control.Monad.IOSim.CommonTypes.html#TVar"><span class="hs-identifier hs-var">TVar</span></a></span></span><span> </span><span class="hs-special">{</span><span>
</span><span id="line-43"></span><span>
</span><span id="line-44"></span><span>       </span><span class="hs-comment">-- | The identifier of this var.</span><span>
</span><span id="line-45"></span><span>       </span><span class="hs-comment">--</span><span>
</span><span id="line-46"></span><span>       </span><span id="tvarId"><span class="annot"><span class="annottext">TVar s a -&gt; TVarId
</span><a href="Control.Monad.IOSim.CommonTypes.html#tvarId"><span class="hs-identifier hs-var hs-var">tvarId</span></a></span></span><span>      </span><span class="hs-glyph">::</span><span> </span><span class="hs-glyph">!</span><span class="annot"><a href="Control.Monad.IOSim.CommonTypes.html#TVarId"><span class="hs-identifier hs-type">TVarId</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-47"></span><span>
</span><span id="line-48"></span><span>       </span><span class="hs-comment">-- | Label.</span><span>
</span><span id="line-49"></span><span>       </span><span id="tvarLabel"><span class="annot"><span class="annottext">TVar s a -&gt; STRef s (Maybe String)
</span><a href="Control.Monad.IOSim.CommonTypes.html#tvarLabel"><span class="hs-identifier hs-var hs-var">tvarLabel</span></a></span></span><span>   </span><span class="hs-glyph">::</span><span> </span><span class="hs-glyph">!</span><span class="hs-special">(</span><span class="annot"><a href="../file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/base-4.14.1.0/src"><span class="hs-identifier hs-type">STRef</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679106688"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/base-4.14.1.0/src"><span class="hs-identifier hs-type">Maybe</span></a></span><span> </span><span class="annot"><a href="Control.Monad.IOSim.CommonTypes.html#TVarLabel"><span class="hs-identifier hs-type">TVarLabel</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-50"></span><span>
</span><span id="line-51"></span><span>       </span><span class="hs-comment">-- | The var's current value</span><span>
</span><span id="line-52"></span><span>       </span><span class="hs-comment">--</span><span>
</span><span id="line-53"></span><span>       </span><span id="tvarCurrent"><span class="annot"><span class="annottext">TVar s a -&gt; STRef s a
</span><a href="Control.Monad.IOSim.CommonTypes.html#tvarCurrent"><span class="hs-identifier hs-var hs-var">tvarCurrent</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-glyph">!</span><span class="hs-special">(</span><span class="annot"><a href="../file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/base-4.14.1.0/src"><span class="hs-identifier hs-type">STRef</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679106688"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679106687"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-54"></span><span>
</span><span id="line-55"></span><span>       </span><span class="hs-comment">-- | A stack of undo values. This is only used while executing a</span><span>
</span><span id="line-56"></span><span>       </span><span class="hs-comment">-- transaction.</span><span>
</span><span id="line-57"></span><span>       </span><span class="hs-comment">--</span><span>
</span><span id="line-58"></span><span>       </span><span id="tvarUndo"><span class="annot"><span class="annottext">TVar s a -&gt; STRef s [a]
</span><a href="Control.Monad.IOSim.CommonTypes.html#tvarUndo"><span class="hs-identifier hs-var hs-var">tvarUndo</span></a></span></span><span>    </span><span class="hs-glyph">::</span><span> </span><span class="hs-glyph">!</span><span class="hs-special">(</span><span class="annot"><a href="../file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/base-4.14.1.0/src"><span class="hs-identifier hs-type">STRef</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679106688"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="#local-6989586621679106687"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">]</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-59"></span><span>
</span><span id="line-60"></span><span>       </span><span class="hs-comment">-- | Thread Ids of threads blocked on a read of this var. It is</span><span>
</span><span id="line-61"></span><span>       </span><span class="hs-comment">-- represented in reverse order of thread wakeup, without duplicates.</span><span>
</span><span id="line-62"></span><span>       </span><span class="hs-comment">--</span><span>
</span><span id="line-63"></span><span>       </span><span class="hs-comment">-- To avoid duplicates efficiently, the operations rely on a copy of the</span><span>
</span><span id="line-64"></span><span>       </span><span class="hs-comment">-- thread Ids represented as a set.</span><span>
</span><span id="line-65"></span><span>       </span><span class="hs-comment">--</span><span>
</span><span id="line-66"></span><span>       </span><span id="tvarBlocked"><span class="annot"><span class="annottext">TVar s a -&gt; STRef s ([ThreadId], Set ThreadId)
</span><a href="Control.Monad.IOSim.CommonTypes.html#tvarBlocked"><span class="hs-identifier hs-var hs-var">tvarBlocked</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-glyph">!</span><span class="hs-special">(</span><span class="annot"><a href="../file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/base-4.14.1.0/src"><span class="hs-identifier hs-type">STRef</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679106688"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">[</span><span class="annot"><a href="Control.Monad.IOSim.CommonTypes.html#ThreadId"><span class="hs-identifier hs-type">ThreadId</span></a></span><span class="hs-special">]</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/containers-0.6.2.1/src"><span class="hs-identifier hs-type">Set</span></a></span><span> </span><span class="annot"><a href="Control.Monad.IOSim.CommonTypes.html#ThreadId"><span class="hs-identifier hs-type">ThreadId</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-67"></span><span>
</span><span id="line-68"></span><span>       </span><span class="hs-comment">-- | The vector clock of the current value.</span><span>
</span><span id="line-69"></span><span>       </span><span class="hs-comment">--</span><span>
</span><span id="line-70"></span><span>       </span><span id="tvarVClock"><span class="annot"><span class="annottext">TVar s a -&gt; STRef s VectorClock
</span><a href="Control.Monad.IOSim.CommonTypes.html#tvarVClock"><span class="hs-identifier hs-var hs-var">tvarVClock</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-glyph">!</span><span class="hs-special">(</span><span class="annot"><a href="../file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/base-4.14.1.0/src"><span class="hs-identifier hs-type">STRef</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679106688"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="Control.Monad.IOSim.CommonTypes.html#VectorClock"><span class="hs-identifier hs-type">VectorClock</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-71"></span><span>
</span><span id="line-72"></span><span>       </span><span class="hs-comment">-- | Callback to construct a trace which will be attached to the dynamic</span><span>
</span><span id="line-73"></span><span>       </span><span class="hs-comment">-- trace.</span><span>
</span><span id="line-74"></span><span>       </span><span id="tvarTrace"><span class="annot"><span class="annottext">TVar s a -&gt; STRef s (Maybe (Maybe a -&gt; a -&gt; ST s TraceValue))
</span><a href="Control.Monad.IOSim.CommonTypes.html#tvarTrace"><span class="hs-identifier hs-var hs-var">tvarTrace</span></a></span></span><span>  </span><span class="hs-glyph">::</span><span> </span><span class="hs-glyph">!</span><span class="hs-special">(</span><span class="annot"><a href="../file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/base-4.14.1.0/src"><span class="hs-identifier hs-type">STRef</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679106688"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/base-4.14.1.0/src"><span class="hs-identifier hs-type">Maybe</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/base-4.14.1.0/src"><span class="hs-identifier hs-type">Maybe</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679106687"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679106687"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/base-4.14.1.0/src"><span class="hs-identifier hs-type">ST</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679106688"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.4/io-classes-0.2.0.0/noopt/doc/html/io-classes/src"><span class="hs-identifier hs-type">TraceValue</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-75"></span><span>     </span><span class="hs-special">}</span><span>
</span><span id="line-76"></span><span>
</span><span id="line-77"></span><span id="local-6989586621679106514"><span id="local-6989586621679106515"><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679106511"><span class="annot"><a href="../file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/ghc-prim-0.6.1/src"><span class="hs-identifier hs-type">Eq</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Control.Monad.IOSim.CommonTypes.html#TVar"><span class="hs-identifier hs-type">TVar</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679106515"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679106514"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-78"></span><span>    </span><span class="annot"><a href="Control.Monad.IOSim.CommonTypes.html#TVar"><span class="hs-identifier hs-type">TVar</span></a></span><span> </span><span class="hs-special">{</span><span class="annot"><span class="annottext">tvarId :: forall s a. TVar s a -&gt; TVarId
</span><a href="Control.Monad.IOSim.CommonTypes.html#tvarId"><span class="hs-identifier hs-var">tvarId</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621679106510"><span class="annot"><span class="annottext">TVarId
</span><a href="#local-6989586621679106510"><span class="hs-identifier hs-var">a</span></a></span></span><span class="hs-special">}</span><span> </span><span id="local-6989586621679106509"><span class="annot"><span class="annottext">== :: TVar s a -&gt; TVar s a -&gt; Bool
</span><a href="../file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/ghc-prim-0.6.1/src"><span class="hs-operator hs-var hs-var hs-var hs-var">==</span></a></span></span><span> </span><span class="annot"><a href="Control.Monad.IOSim.CommonTypes.html#TVar"><span class="hs-identifier hs-type">TVar</span></a></span><span> </span><span class="hs-special">{</span><span class="annot"><span class="annottext">tvarId :: forall s a. TVar s a -&gt; TVarId
</span><a href="Control.Monad.IOSim.CommonTypes.html#tvarId"><span class="hs-identifier hs-var">tvarId</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621679106508"><span class="annot"><span class="annottext">TVarId
</span><a href="#local-6989586621679106508"><span class="hs-identifier hs-var">b</span></a></span></span><span class="hs-special">}</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">TVarId
</span><a href="#local-6989586621679106510"><span class="hs-identifier hs-var">a</span></a></span><span> </span><span class="annot"><span class="annottext">TVarId -&gt; TVarId -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><a href="../file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/ghc-prim-0.6.1/src"><span class="hs-operator hs-var">==</span></a></span><span> </span><span class="annot"><span class="annottext">TVarId
</span><a href="#local-6989586621679106508"><span class="hs-identifier hs-var">b</span></a></span></span></span><span>
</span><span id="line-79"></span><span>
</span><span id="line-80"></span><span class="hs-keyword">data</span><span> </span><span id="SomeTVar"><span class="annot"><a href="Control.Monad.IOSim.CommonTypes.html#SomeTVar"><span class="hs-identifier hs-var">SomeTVar</span></a></span></span><span> </span><span id="local-6989586621679106506"><span class="annot"><a href="#local-6989586621679106506"><span class="hs-identifier hs-type">s</span></a></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-81"></span><span>  </span><span id="local-6989586621679106504"><span id="local-6989586621679106505"><span id="SomeTVar"><span class="annot"><a href="Control.Monad.IOSim.CommonTypes.html#SomeTVar"><span class="hs-identifier hs-var">SomeTVar</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-glyph">!</span><span class="hs-special">(</span><span class="annot"><a href="Control.Monad.IOSim.CommonTypes.html#TVar"><span class="hs-identifier hs-type">TVar</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679106505"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679106504"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Control.Monad.IOSim.CommonTypes.html#SomeTVar"><span class="hs-identifier hs-type">SomeTVar</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679106505"><span class="hs-identifier hs-type">s</span></a></span></span></span><span>
</span><span id="line-82"></span><span>
</span><span id="line-83"></span><span class="hs-keyword">data</span><span> </span><span id="Deschedule"><span class="annot"><a href="Control.Monad.IOSim.CommonTypes.html#Deschedule"><span class="hs-identifier hs-var">Deschedule</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="Yield"><span class="annot"><a href="Control.Monad.IOSim.CommonTypes.html#Yield"><span class="hs-identifier hs-var">Yield</span></a></span></span><span> </span><span class="hs-glyph">|</span><span> </span><span id="Interruptable"><span class="annot"><a href="Control.Monad.IOSim.CommonTypes.html#Interruptable"><span class="hs-identifier hs-var">Interruptable</span></a></span></span><span> </span><span class="hs-glyph">|</span><span> </span><span id="Blocked"><span class="annot"><a href="Control.Monad.IOSim.CommonTypes.html#Blocked"><span class="hs-identifier hs-var">Blocked</span></a></span></span><span> </span><span class="hs-glyph">|</span><span> </span><span id="Terminated"><span class="annot"><a href="Control.Monad.IOSim.CommonTypes.html#Terminated"><span class="hs-identifier hs-var">Terminated</span></a></span></span><span> </span><span class="hs-glyph">|</span><span> </span><span id="Sleep"><span class="annot"><a href="Control.Monad.IOSim.CommonTypes.html#Sleep"><span class="hs-identifier hs-var">Sleep</span></a></span></span><span>
</span><span id="line-84"></span><span>  </span><span class="hs-keyword">deriving</span><span> </span><span id="local-6989586621679106492"><span id="local-6989586621679106494"><span id="local-6989586621679106496"><span class="annot"><span class="annottext">Int -&gt; Deschedule -&gt; ShowS
[Deschedule] -&gt; ShowS
Deschedule -&gt; String
(Int -&gt; Deschedule -&gt; ShowS)
-&gt; (Deschedule -&gt; String)
-&gt; ([Deschedule] -&gt; ShowS)
-&gt; Show Deschedule
forall a.
(Int -&gt; a -&gt; ShowS) -&gt; (a -&gt; String) -&gt; ([a] -&gt; ShowS) -&gt; Show a
showList :: [Deschedule] -&gt; ShowS
$cshowList :: [Deschedule] -&gt; ShowS
show :: Deschedule -&gt; String
$cshow :: Deschedule -&gt; String
showsPrec :: Int -&gt; Deschedule -&gt; ShowS
$cshowsPrec :: Int -&gt; Deschedule -&gt; ShowS
</span><a href="../file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/base-4.14.1.0/src"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Show</span></a></span></span></span></span><span>
</span><span id="line-85"></span></pre></body></html>
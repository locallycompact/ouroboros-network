<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><meta name="viewport" content="width=device-width, initial-scale=1" /><title>Ouroboros.Network.PeerSelection.PeerStateActions</title><link href="linuwial.css" rel="stylesheet" type="text/css" title="Linuwial" /><link rel="stylesheet" type="text/css" href="quick-jump.css" /><link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=PT+Sans:400,400i,700" /><script src="haddock-bundle.min.js" async="async" type="text/javascript"></script><script type="text/x-mathjax-config">MathJax.Hub.Config({ tex2jax: { processClass: "mathjax", ignoreClass: ".*" } });</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script></head><body><div id="package-header"><span class="caption">ouroboros-network-0.1.0.0: A networking layer for the Ouroboros blockchain protocol</span><ul class="links" id="page-menu"><li><a href="src/Ouroboros.Network.PeerSelection.PeerStateActions.html">Source</a></li><li><a href="&quot;../index.html&quot;">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul></div><div id="content"><div id="module-header"><table class="info"><tr><th>Safe Haskell</th><td>None</td></tr><tr><th>Language</th><td>Haskell2010</td></tr></table><p class="caption">Ouroboros.Network.PeerSelection.PeerStateActions</p></div><div id="table-of-contents"><div id="contents-list"><p class="caption" onclick="window.scrollTo(0,0)">Contents</p><ul><li><a href="#g:1">Exceptions</a></li><li><a href="#g:2">Trace</a></li></ul></div></div><div id="synopsis"><details id="syn"><summary>Synopsis</summary><ul class="details-toggle" data-details-id="syn"><li class="src short"><span class="keyword">data</span> <a href="#t:PeerStateActionsArguments">PeerStateActionsArguments</a> muxMode socket peerAddr versionNumber m a b = <a href="#v:PeerStateActionsArguments">PeerStateActionsArguments</a> {<ul class="subs"><li><a href="#v:spsTracer">spsTracer</a> &#8759; Tracer m (<a href="Ouroboros-Network-PeerSelection-PeerStateActions.html#t:PeerSelectionActionsTrace" title="Ouroboros.Network.PeerSelection.PeerStateActions">PeerSelectionActionsTrace</a> peerAddr)</li><li><a href="#v:spsDeactivateTimeout">spsDeactivateTimeout</a> &#8759; <a href="file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.4/io-classes-0.2.0.0/noopt/doc/html/io-classes/Control-Monad-Class-MonadTime.html#t:DiffTime" title="Control.Monad.Class.MonadTime">DiffTime</a></li><li><a href="#v:spsCloseConnectionTimeout">spsCloseConnectionTimeout</a> &#8759; <a href="file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.4/io-classes-0.2.0.0/noopt/doc/html/io-classes/Control-Monad-Class-MonadTime.html#t:DiffTime" title="Control.Monad.Class.MonadTime">DiffTime</a></li><li><a href="#v:spsConnectionManager">spsConnectionManager</a> &#8759; <a href="file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.4/ouroboros-network-framework-0.1.0.0/noopt/doc/html/ouroboros-network-framework/Ouroboros-Network-ConnectionHandler.html#t:MuxConnectionManager" title="Ouroboros.Network.ConnectionHandler">MuxConnectionManager</a> muxMode socket peerAddr versionNumber <a href="file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/bytestring-0.10.12.0/Data-ByteString-Lazy.html#t:ByteString" title="Data.ByteString.Lazy">ByteString</a> m a b</li></ul>}</li><li class="src short"><span class="keyword">data</span> <a href="#t:PeerConnectionHandle">PeerConnectionHandle</a> (muxMode &#8759; <a href="file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.4/network-mux-0.1.0.0/noopt/doc/html/network-mux/Network-Mux-Types.html#t:MuxMode" title="Network.Mux.Types">MuxMode</a>) peerAddr bytes m a b</li><li class="src short"><a href="#v:withPeerStateActions">withPeerStateActions</a> &#8759; &#8704; (muxMode &#8759; <a href="file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.4/network-mux-0.1.0.0/noopt/doc/html/network-mux/Network-Mux-Types.html#t:MuxMode" title="Network.Mux.Types">MuxMode</a>) socket peerAddr versionNumber m a b x. (<a href="file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.4/io-classes-0.2.0.0/noopt/doc/html/io-classes/Control-Monad-Class-MonadAsync.html#t:MonadAsync" title="Control.Monad.Class.MonadAsync">MonadAsync</a> m, <a href="file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.4/io-classes-0.2.0.0/noopt/doc/html/io-classes/Control-Monad-Class-MonadThrow.html#t:MonadCatch" title="Control.Monad.Class.MonadThrow">MonadCatch</a> m, <a href="file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.4/io-classes-0.2.0.0/noopt/doc/html/io-classes/Control-Monad-Class-MonadSTM.html#t:MonadLabelledSTM" title="Control.Monad.Class.MonadSTM">MonadLabelledSTM</a> m, <a href="file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.4/io-classes-0.2.0.0/noopt/doc/html/io-classes/Control-Monad-Class-MonadThrow.html#t:MonadMask" title="Control.Monad.Class.MonadThrow">MonadMask</a> m, <a href="file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.4/io-classes-0.2.0.0/noopt/doc/html/io-classes/Control-Monad-Class-MonadTimer.html#t:MonadTimer" title="Control.Monad.Class.MonadTimer">MonadTimer</a> m, <a href="file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.4/io-classes-0.2.0.0/noopt/doc/html/io-classes/Control-Monad-Class-MonadThrow.html#t:MonadThrow" title="Control.Monad.Class.MonadThrow">MonadThrow</a> (<a href="file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.4/io-classes-0.2.0.0/noopt/doc/html/io-classes/Control-Monad-Class-MonadSTM.html#t:STM" title="Control.Monad.Class.MonadSTM">STM</a> m), <a href="file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.4/network-mux-0.1.0.0/noopt/doc/html/network-mux/Network-Mux-Types.html#t:HasInitiator" title="Network.Mux.Types">HasInitiator</a> muxMode ~ <a href="file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/base-4.14.1.0/Data-Bool.html#v:True" title="Data.Bool">True</a>, <a href="file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/base-4.14.1.0/Type-Reflection.html#t:Typeable" title="Type.Reflection">Typeable</a> versionNumber, <a href="file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/base-4.14.1.0/Text-Show.html#t:Show" title="Text.Show">Show</a> versionNumber, <a href="file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/base-4.14.1.0/Data-Ord.html#t:Ord" title="Data.Ord">Ord</a> peerAddr, <a href="file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/base-4.14.1.0/Type-Reflection.html#t:Typeable" title="Type.Reflection">Typeable</a> peerAddr, <a href="file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/base-4.14.1.0/Text-Show.html#t:Show" title="Text.Show">Show</a> peerAddr) &#8658; <a href="Ouroboros-Network-PeerSelection-PeerStateActions.html#t:PeerStateActionsArguments" title="Ouroboros.Network.PeerSelection.PeerStateActions">PeerStateActionsArguments</a> muxMode socket peerAddr versionNumber m a b &#8594; (<a href="Ouroboros-Network-PeerSelection-Governor-Types.html#t:PeerStateActions" title="Ouroboros.Network.PeerSelection.Governor.Types">PeerStateActions</a> peerAddr (<a href="Ouroboros-Network-PeerSelection-PeerStateActions.html#t:PeerConnectionHandle" title="Ouroboros.Network.PeerSelection.PeerStateActions">PeerConnectionHandle</a> muxMode peerAddr <a href="file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/bytestring-0.10.12.0/Data-ByteString-Lazy.html#t:ByteString" title="Data.ByteString.Lazy">ByteString</a> m a b) m &#8594; m x) &#8594; m x</li><li class="src short"><span class="keyword">data</span> <a href="#t:PeerSelectionActionException">PeerSelectionActionException</a> = &#8704; e.<a href="file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/base-4.14.1.0/Control-Exception-Base.html#t:Exception" title="Control.Exception.Base">Exception</a> e &#8658;  <a href="#v:PeerSelectionActionException">PeerSelectionActionException</a> e</li><li class="src short"><span class="keyword">data</span> <a href="#t:EstablishConnectionException">EstablishConnectionException</a> versionNumber<ul class="subs"><li>= <a href="#v:ClientException">ClientException</a> !(<a href="file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.4/ouroboros-network-framework-0.1.0.0/noopt/doc/html/ouroboros-network-framework/Ouroboros-Network-Protocol-Handshake.html#t:HandshakeException" title="Ouroboros.Network.Protocol.Handshake">HandshakeException</a> versionNumber)</li><li>| <a href="#v:ServerException">ServerException</a> !(<a href="file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.4/ouroboros-network-framework-0.1.0.0/noopt/doc/html/ouroboros-network-framework/Ouroboros-Network-Protocol-Handshake.html#t:HandshakeException" title="Ouroboros.Network.Protocol.Handshake">HandshakeException</a> versionNumber)</li></ul></li><li class="src short"><span class="keyword">data</span> <a href="#t:PeerSelectionTimeoutException">PeerSelectionTimeoutException</a> peerAddr<ul class="subs"><li>= <a href="#v:DeactivationTimeout">DeactivationTimeout</a> !(<a href="Ouroboros-Network-NodeToClient.html#t:ConnectionId" title="Ouroboros.Network.NodeToClient">ConnectionId</a> peerAddr)</li><li>| <a href="#v:CloseConnectionTimeout">CloseConnectionTimeout</a> !(<a href="Ouroboros-Network-NodeToClient.html#t:ConnectionId" title="Ouroboros.Network.NodeToClient">ConnectionId</a> peerAddr)</li></ul></li><li class="src short"><span class="keyword">data</span> <a href="#t:PeerSelectionActionsTrace">PeerSelectionActionsTrace</a> peerAddr<ul class="subs"><li>= <a href="#v:PeerStatusChanged">PeerStatusChanged</a> (PeerStatusChangeType peerAddr)</li><li>| <a href="#v:PeerStatusChangeFailure">PeerStatusChangeFailure</a> (PeerStatusChangeType peerAddr) FailureType</li><li>| <a href="#v:PeerMonitoringError">PeerMonitoringError</a> (<a href="Ouroboros-Network-NodeToClient.html#t:ConnectionId" title="Ouroboros.Network.NodeToClient">ConnectionId</a> peerAddr) <a href="file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/base-4.14.1.0/Control-Exception-Base.html#t:SomeException" title="Control.Exception.Base">SomeException</a></li><li>| <a href="#v:PeerMonitoringResult">PeerMonitoringResult</a> (<a href="Ouroboros-Network-NodeToClient.html#t:ConnectionId" title="Ouroboros.Network.NodeToClient">ConnectionId</a> peerAddr) (<a href="file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.4/ouroboros-network-framework-0.1.0.0/noopt/doc/html/ouroboros-network-framework/Ouroboros-Network-Mux.html#t:WithSomeProtocolTemperature" title="Ouroboros.Network.Mux">WithSomeProtocolTemperature</a> FirstToFinishResult)</li></ul></li></ul></details></div><div id="interface"><h1>Documentation</h1><div class="doc"><h1>Introduction</h1><p>This module implements <code><a href="Ouroboros-Network-PeerSelection-Governor-Types.html#t:PeerStateActions" title="Ouroboros.Network.PeerSelection.Governor.Types">PeerStateActions</a></code>, which provide the following
 capabilities::</p><dl><dt>synchronous promotions / demotions</dt><dd><ul><li><code><a href="Ouroboros-Network-PeerSelection-Governor-Types.html#v:establishPeerConnection" title="Ouroboros.Network.PeerSelection.Governor.Types">establishPeerConnection</a></code></li><li><code><a href="Ouroboros-Network-PeerSelection-Governor-Types.html#v:activatePeerConnection" title="Ouroboros.Network.PeerSelection.Governor.Types">activatePeerConnection</a></code></li><li><code><a href="Ouroboros-Network-PeerSelection-Governor-Types.html#v:deactivatePeerConnection" title="Ouroboros.Network.PeerSelection.Governor.Types">deactivatePeerConnection</a></code></li><li><code><a href="Ouroboros-Network-PeerSelection-Governor-Types.html#v:closePeerConnection" title="Ouroboros.Network.PeerSelection.Governor.Types">closePeerConnection</a></code></li></ul></dd><dt>asynchronous demotions</dt><dd></dd></dl><p>Monitor mini-protocols and act on mini-protocol state changes done via
 <code><a href="Ouroboros-Network-PeerSelection-Governor-Types.html#v:monitorPeerConnection" title="Ouroboros.Network.PeerSelection.Governor.Types">monitorPeerConnection</a></code>.</p><h1>Synchronous promotions / demotions</h1><p>Synchronous promotions / demotions are directly used by
 <code><a href="Ouroboros-Network-PeerSelection-Governor.html#v:peerSelectionGovernor" title="Ouroboros.Network.PeerSelection.Governor">peerSelectionGovernor</a></code>.</p><dl><dt>synchronous <em>cold &#8594; warm</em> transition</dt><dd>This transition starts with creating or reusing an inbound connection, do
    handshake (functionality provided by connection manager), start
    established and warm mini-protocols, start monitoring thread specified
    below.</dd><dt>synchronous <em>warm &#8594; hot</em> transition</dt><dd>This transition quiesce warm protocols and starts hot protocols.  There
    is no timeout to quiesce warm mini-protocols.  The tip-sample protocol
    which is the only planned warm protocol has some states that have
    a longer timeout when the remote peer has agency, but it does not
    transfers much data.</dd><dt>synchronous <em>hot &#8594; warm</em> transition</dt><dd>Within a timeout, stop hot protocols and let the warm protocols continue
    running.  If the timeout expires the connection is closed.  Note that this
    will impact inbound side of a duplex connection.  We cannot do any
    better: closing is a cooperative action since we require to arrive at
    a well defined state of the multiplexer (no outstanding data in ingress
    queue).  This transition must use last to finish synchronisation of all
    hot mini-protocols.</dd><dt>synchronous <em>warm &#8594; cold</em> transition</dt><dd>Shutdown established and warm protocols.  As in the previous transition
    it must use last to finish synchronisation on established and warm
    protocol termination, if this synchronisation timeouts the connection is
    closed.</dd></dl><h1>Monitoring Loop</h1><p>The monitoring loop is responsible for taking an action when one of the
 mini-protocols either terminates or errors.  Except termination of a hot
 protocols we shall close the connection.  When one of the hot protocols
 terminates we trigger a synchronous <em>hot &#8594; warm</em> transition.</p><p>The monitoring loop is supposed to stop when the multiplexer stops.</p><p>Note that the monitoring loop must act as soon as one of the mini-protocols
 terminates or errors, hence the use of first to finish synchronisation.</p><p>The multiplexer guarantees that whenever one of the mini-protocols errors the
 connection is closed.  This simplifies the actions needed to be taken by the
 monitoring loop.</p><h1>Asynchronous demotions</h1><dl><dt>asynchronous <em>* &#8594; cold</em> transition</dt><dd>This demotion is triggered whenever any of the mini-protocol errors.  This
 does not require a further action by the monitoring loop: mux will close the
 connection, monitoring loop will terminate.</dd></dl><dl><dt>asynchronous <em>hot &#8594; warm</em> demotion </dt><dd>This demotion is triggered if a hot mini-protocol terminates cleanly.  In
 this case we trigger synchronous <em>hot &#8594; warm</em> demotion which will halt all
 hot mini-protocols and will notify the peer-to-peer governor about the
 change.</dd></dl><h1>Implementation details</h1><p><code><a href="Ouroboros-Network-PeerSelection-Governor-Types.html#t:PeerStateActions" title="Ouroboros.Network.PeerSelection.Governor.Types">PeerStateActions</a></code> are build on top of <code><a href="file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.4/ouroboros-network-framework-0.1.0.0/noopt/doc/html/ouroboros-network-framework/Ouroboros-Network-ConnectionManager-Types.html#t:ConnectionManager" title="Ouroboros.Network.ConnectionManager.Types">ConnectionManager</a></code> which provides
 a primitive to present us a negotiated connection (i.e. after running
 the handshake) and the multiplexer api which allows to start mini-protocols
 and track their termination via an <code><a href="file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.4/io-classes-0.2.0.0/noopt/doc/html/io-classes/Control-Monad-Class-MonadSTM.html#t:STM" title="Control.Monad.Class.MonadSTM">STM</a></code> interface.  Each connection has
 associated <code><a href="Ouroboros-Network-PeerSelection-PeerStateActions.html#t:PeerConnectionHandle" title="Ouroboros.Network.PeerSelection.PeerStateActions">PeerConnectionHandle</a></code> which holds all the data associated with
 a connection.</p><p>Most important are <code>pchMux :: Mux mode m</code> which allows us
 to interact with the multiplexer and <code>pchAppHandles</code>.  The latter contains
 information about each mini-protocol and its <code><a href="file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.4/io-classes-0.2.0.0/noopt/doc/html/io-classes/Control-Monad-Class-MonadSTM.html#t:STM" title="Control.Monad.Class.MonadSTM">STM</a></code> mini-protocol monitoring
 action.  <code>ahMiniProtocolResults</code> allows us to build last-to-finish
 <code>awaitAllResults</code> and first-to-finish <code>awaitFirstResult</code> synchronisations that
 we need in synchronous transitions and monitoring loop respectively.</p><p><code>ahControlVar</code> is a per-temperature <code>TVar</code> which holds <code><a href="file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.4/ouroboros-network-framework-0.1.0.0/noopt/doc/html/ouroboros-network-framework/Ouroboros-Network-Mux.html#t:ControlMessage" title="Ouroboros.Network.Mux">ControlMessage</a></code>.  It
 is passed from <code><a href="file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.4/ouroboros-network-framework-0.1.0.0/noopt/doc/html/ouroboros-network-framework/Ouroboros-Network-ConnectionManager-Types.html#t:ConnectionHandler" title="Ouroboros.Network.ConnectionManager.Types">ConnectionHandler</a></code> via <code><a href="file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.4/ouroboros-network-framework-0.1.0.0/noopt/doc/html/ouroboros-network-framework/Ouroboros-Network-ConnectionHandler.html#t:Handle" title="Ouroboros.Network.ConnectionHandler">Handle</a></code>.  This variable allows
 us to terminate, quiesce or re-enable mini-protocols.</p><p>Bellow is a schematic illustration of function calls / threads and shared
 state variables.  Reads done just make assertions are not included.  The
 diagram does not include <code><a href="Ouroboros-Network-PeerSelection-Governor-Types.html#v:establishPeerConnection" title="Ouroboros.Network.PeerSelection.Governor.Types">establishPeerConnection</a></code>.</p><pre>Legend: &#9472;  - functions
        &#9474;&#9617; - threads
        &#9473;  - STM mutable variables

        &#9500;&#9472;&#9472;&#9654;&#9475; - write to a TVar
        &#9474;&#9664;&#9472;&#9472;&#9512; - read from a TVar
        &#9500;&#9472;&#9472;&#9654;&#9474; - function call

        PeerStateVar        - 'pchPeerState' 'TVar'
        MiniProtocolResults - 'ahMiniProtocolResults' 'TVar'
        ControlVar          - 'ahControlVar' 'TVar'




                    &#9484;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9488;
                    &#9474; &#9484;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9488;                               &#9474;
                    &#9474; &#9474;        &#9474;                               &#9474;
   &#9484;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9524;&#9472;&#9524;&#9472;&#9488;      &#9474;                               &#9474;
  &#9484;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9488;&#9474;      &#9660;                               &#9660;
 &#9484;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9488;&#9474;&#9474;   &#9484;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9488;     &#9484;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9488;
 &#9474;&#9617;&#9617;&#9617;&#9617;&#9617;&#9617;&#9617;&#9617;&#9617;&#9617;&#9617;&#9617;&#9617;&#9617;&#9617;&#9617;&#9617;&#9617;&#9617;&#9617;&#9474;&#9474;&#9474;   &#9474;                          &#9474;     &#9474;                     &#9474;
 &#9474;&#9617;peerMonitoringLoop&#9617;&#9474;&#9474;&#9496;   &#9474; deactivatePeerConnection &#9474;     &#9474; closePeerConnection &#9474;
 &#9474;&#9617;&#9617;&#9617;&#9617;&#9617;&#9617;&#9617;&#9617;&#9617;&#9617;&#9617;&#9617;&#9617;&#9617;&#9617;&#9617;&#9617;&#9617;&#9617;&#9617;&#9474;&#9496;    &#9474;                          &#9474;     &#9474;                     &#9474;
 &#9492;&#9516;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9496;     &#9492;&#9516;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9516;&#9472;&#9472;&#9472;&#9472;&#9496;     &#9492;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9516;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9496;
  &#9474;     &#9650;                    &#9474;   &#9650;                &#9474;              &#9650; &#9650; &#9474;
  &#9474; &#9484;&#9472;&#9472;&#9472;&#9532;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9496;   &#9474;                &#9474;              &#9474; &#9474; &#9474;
  &#9474; &#9474; &#9484;&#9472;&#9532;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9532;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9532;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9496; &#9474; &#9474;
  &#9474; &#9474; &#9474; &#9474;                        &#9474;     &#9484;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9532;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9496; &#9474;
  &#9474; &#9474; &#9474; &#9474;                        &#9474;     &#9474;          &#9474; &#9484;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9496;
&#9618;&#9618;&#9474;&#9618;&#9474;&#9618;&#9474;&#9618;&#9474;&#9618;&#9618;&#9618;&#9618;&#9618;&#9618;&#9618;&#9618;&#9618;&#9618;&#9618;&#9618;&#9618;&#9618;&#9618;&#9618;&#9618;&#9618;&#9618;&#9618;&#9618;&#9618;&#9618;&#9618;&#9474;&#9618;&#9618;&#9618;&#9618;&#9618;&#9474;&#9618;&#9618;&#9618;&#9618;&#9618;&#9618;&#9618;&#9618;&#9618;&#9618;&#9474;&#9618;&#9474;&#9618;&#9618;&#9618;&#9618;&#9618;&#9618;&#9618;&#9618;&#9618;&#9618;&#9618;&#9618;&#9618;&#9618;&#9618;&#9618;&#9618;&#9618;&#9618;&#9618;&#9618;&#9618;&#9618;&#9618;
&#9618; &#9474; &#9474; &#9474; &#9492;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9488;        &#9474;     &#9474;          &#9474; &#9474;                       &#9618;&#9618;&#9618;
&#9618; &#9660; &#9660; &#9660;                 &#9474;        &#9474;     &#9474;          &#9660; &#9660;                       &#9618; &#9618;&#9618;&#9618;
&#9618;&#9487;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9491;      &#9487;&#9527;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9527;&#9473;&#9473;&#9473;&#9473;&#9473;&#9527;&#9491;     &#9487;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9491;            &#9618; &#9618; &#9618;
&#9618;&#9475;              &#9475;&#9491;     &#9475;                &#9475;&#9491;    &#9475;                &#9475;&#9491;           &#9618; &#9618; &#9618;
&#9618;&#9475; PeerStateVar &#9475;&#9475;&#9491;    &#9475;  MiniProtocol  &#9475;&#9475;&#9491;   &#9475;  ControlVar    &#9475;&#9475;&#9491;          &#9618; &#9618; &#9618;
&#9618;&#9475;              &#9475;&#9475;&#9475;    &#9475;     Results    &#9475;&#9475;&#9475;   &#9475;  - established &#9475;&#9475;&#9475;          &#9618; &#9618; &#9618;
&#9618;&#9475;              &#9475;&#9475;&#9475;    &#9475;  - established &#9475;&#9475;&#9475;   &#9475;  - warm        &#9475;&#9475;&#9475;          &#9618; &#9618; &#9618;
&#9618;&#9495;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9499;&#9475;&#9475;    &#9475;  - warm        &#9475;&#9475;&#9475;   &#9475;  - hot         &#9475;&#9475;&#9475;          &#9618; &#9618; &#9618;
&#9618; &#9495;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9499;&#9475;    &#9475;  - hot         &#9475;&#9475;&#9475;   &#9475;                &#9475;&#9475;&#9475;          &#9618; &#9618; &#9618;
&#9618;  &#9495;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9499;    &#9475;                &#9475;&#9475;&#9475;   &#9475;                &#9475;&#9475;&#9475;          &#9618; &#9618; &#9618;
&#9618;  &#9650;                   &#9495;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9499;&#9475;&#9475;   &#9495;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9499;&#9475;&#9475;          &#9618; &#9618; &#9618;
&#9618;  &#9474;                    &#9495;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9499;&#9475;    &#9495;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9499;&#9475;          &#9618; &#9618; &#9618;
&#9618;  &#9474;                     &#9495;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9499;     &#9495;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9499;          &#9618; &#9618; &#9618;
&#9618;  &#9474;                                             &#9650;                          &#9618; &#9618; &#9618;
&#9618;  &#9474;                   PeerConnectionHandles     &#9474;                          &#9618; &#9618; &#9618;
&#9618;&#9618;&#9618;&#9474;&#9618;&#9618;&#9618;&#9618;&#9618;&#9618;&#9618;&#9618;&#9618;&#9618;&#9618;&#9618;&#9618;&#9618;&#9618;&#9618;&#9618;&#9618;&#9618;&#9618;&#9618;&#9618;&#9618;&#9618;&#9618;&#9618;&#9618;&#9618;&#9618;&#9618;&#9618;&#9618;&#9618;&#9618;&#9618;&#9618;&#9618;&#9618;&#9618;&#9618;&#9618;&#9618;&#9618;&#9618;&#9618;&#9474;&#9618;&#9618;&#9618;&#9618;&#9618;&#9618;&#9618;&#9618;&#9618;&#9618;&#9618;&#9618;&#9618;&#9618;&#9618;&#9618;&#9618;&#9618;&#9618;&#9618;&#9618;&#9618;&#9618;&#9618;&#9618;&#9618;&#9618; &#9618; &#9618;
 &#9618; &#9474;                                             &#9474;                            &#9618; &#9618;
 &#9618;&#9618;&#9474;&#9618;&#9618;&#9618;&#9618;&#9618;&#9618;&#9618;&#9618;&#9618;&#9618;&#9618;&#9618;&#9618;&#9618;&#9618;&#9618;&#9618;&#9618;&#9618;&#9618;&#9618;&#9618;&#9618;&#9618;&#9618;&#9618;&#9618;&#9618;&#9618;&#9618;&#9618;&#9618;&#9618;&#9618;&#9618;&#9618;&#9618;&#9618;&#9618;&#9618;&#9618;&#9618;&#9618;&#9618;&#9618;&#9474;&#9618;&#9618;&#9618;&#9618;&#9618;&#9618;&#9618;&#9618;&#9618;&#9618;&#9618;&#9618;&#9618;&#9618;&#9618;&#9618;&#9618;&#9618;&#9618;&#9618;&#9618;&#9618;&#9618;&#9618;&#9618;&#9618;&#9618;&#9618;&#9618; &#9618;
  &#9618;&#9474;                                             &#9474;                              &#9618;
  &#9618;&#9474;&#9618;&#9618;&#9618;&#9618;&#9618;&#9618;&#9618;&#9618;&#9618;&#9618;&#9618;&#9618;&#9618;&#9618;&#9618;&#9618;&#9618;&#9618;&#9618;&#9618;&#9618;&#9618;&#9618;&#9618;&#9618;&#9618;&#9618;&#9618;&#9618;&#9618;&#9618;&#9618;&#9618;&#9618;&#9618;&#9618;&#9618;&#9618;&#9618;&#9618;&#9618;&#9618;&#9618;&#9618;&#9618;&#9474;&#9618;&#9618;&#9618;&#9618;&#9618;&#9618;&#9618;&#9618;&#9618;&#9618;&#9618;&#9618;&#9618;&#9618;&#9618;&#9618;&#9618;&#9618;&#9618;&#9618;&#9618;&#9618;&#9618;&#9618;&#9618;&#9618;&#9618;&#9618;&#9618;&#9618;&#9618;
   &#9474;                   &#9484;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9496;
 &#9484;&#9472;&#9524;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9524;&#9472;&#9472;&#9488;
 &#9474;                        &#9474;
 &#9474; activatePeerConnection &#9474;
 &#9474;                        &#9474;
 &#9492;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9496;</pre><p>Notes:</p><p>All three upper boxes: <code>peerMonitoringLoop</code>, <code><a href="Ouroboros-Network-PeerSelection-Governor-Types.html#v:deactivatePeerConnection" title="Ouroboros.Network.PeerSelection.Governor.Types">deactivatePeerConnection</a></code> and
 <code><a href="Ouroboros-Network-PeerSelection-Governor-Types.html#v:closePeerConnection" title="Ouroboros.Network.PeerSelection.Governor.Types">closePeerConnection</a></code> are reading <code>ahMiniProtocolResults</code> via the
 last-to-finish <code>awaitAllResults</code> synchronisation.</p><p>All of the thin boxes are writing to <code>pchPeerState</code> variable; which is read
 by 'monitorPeerConnection.  Also all of them writing to <code>ahControlVar</code>:
 <code>peerMonitoringLoop</code> does that through a call to <code>deactivePeerConnection</code> or
 <code><a href="Ouroboros-Network-PeerSelection-Governor-Types.html#v:closePeerConnection" title="Ouroboros.Network.PeerSelection.Governor.Types">closePeerConnection</a></code>.</p></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:PeerStateActionsArguments" class="def">PeerStateActionsArguments</a> muxMode socket peerAddr versionNumber m a b <a href="src/Ouroboros.Network.PeerSelection.PeerStateActions.html#PeerStateActionsArguments" class="link">Source</a> <a href="#t:PeerStateActionsArguments" class="selflink">#</a></p><div class="doc"><p>Record of arguments of <code>peerSelectionActions</code>.</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:PeerStateActionsArguments" class="def">PeerStateActionsArguments</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div class="subs fields"><p class="caption">Fields</p><ul><li><dfn class="src"><a id="v:spsTracer" class="def">spsTracer</a> &#8759; Tracer m (<a href="Ouroboros-Network-PeerSelection-PeerStateActions.html#t:PeerSelectionActionsTrace" title="Ouroboros.Network.PeerSelection.PeerStateActions">PeerSelectionActionsTrace</a> peerAddr)</dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:spsDeactivateTimeout" class="def">spsDeactivateTimeout</a> &#8759; <a href="file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.4/io-classes-0.2.0.0/noopt/doc/html/io-classes/Control-Monad-Class-MonadTime.html#t:DiffTime" title="Control.Monad.Class.MonadTime">DiffTime</a></dfn><div class="doc"><p>Peer deactivation timeout: timeouts stopping hot protocols.</p></div></li><li><dfn class="src"><a id="v:spsCloseConnectionTimeout" class="def">spsCloseConnectionTimeout</a> &#8759; <a href="file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.4/io-classes-0.2.0.0/noopt/doc/html/io-classes/Control-Monad-Class-MonadTime.html#t:DiffTime" title="Control.Monad.Class.MonadTime">DiffTime</a></dfn><div class="doc"><p>Timeout on closing connection: timeouts stopping established and warm
 peer protocols.</p></div></li><li><dfn class="src"><a id="v:spsConnectionManager" class="def">spsConnectionManager</a> &#8759; <a href="file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.4/ouroboros-network-framework-0.1.0.0/noopt/doc/html/ouroboros-network-framework/Ouroboros-Network-ConnectionHandler.html#t:MuxConnectionManager" title="Ouroboros.Network.ConnectionHandler">MuxConnectionManager</a> muxMode socket peerAddr versionNumber <a href="file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/bytestring-0.10.12.0/Data-ByteString-Lazy.html#t:ByteString" title="Data.ByteString.Lazy">ByteString</a> m a b</dfn><div class="doc empty">&nbsp;</div></li></ul></div></td></tr></table></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:PeerConnectionHandle" class="def">PeerConnectionHandle</a> (muxMode &#8759; <a href="file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.4/network-mux-0.1.0.0/noopt/doc/html/network-mux/Network-Mux-Types.html#t:MuxMode" title="Network.Mux.Types">MuxMode</a>) peerAddr bytes m a b <a href="src/Ouroboros.Network.PeerSelection.PeerStateActions.html#PeerConnectionHandle" class="link">Source</a> <a href="#t:PeerConnectionHandle" class="selflink">#</a></p><div class="doc"><p>Each established connection has access to <code><a href="Ouroboros-Network-PeerSelection-PeerStateActions.html#t:PeerConnectionHandle" title="Ouroboros.Network.PeerSelection.PeerStateActions">PeerConnectionHandle</a></code>.  It
 allows to promote / demote or close the connection, by having access to
 <code>Mux</code>, three bundles of miniprotocols: for hot, warm and established peers
 together with their state <code><a href="file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.4/strict-stm-0.1.0.0/noopt/doc/html/strict-stm/Control-Monad-Class-MonadSTM-Strict.html#t:StrictTVar" title="Control.Monad.Class.MonadSTM.Strict">StrictTVar</a></code>s.</p></div><div class="subs instances"><h4 class="instances details-toggle-control details-toggle" data-details-id="i:PeerConnectionHandle">Instances</h4><details id="i:PeerConnectionHandle" open="open"><summary class="hide-when-js-enabled">Instances details</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:PeerConnectionHandle:Show:1"></span> <a href="file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/base-4.14.1.0/Text-Show.html#t:Show" title="Text.Show">Show</a> peerAddr &#8658; <a href="file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/base-4.14.1.0/Text-Show.html#t:Show" title="Text.Show">Show</a> (<a href="Ouroboros-Network-PeerSelection-PeerStateActions.html#t:PeerConnectionHandle" title="Ouroboros.Network.PeerSelection.PeerStateActions">PeerConnectionHandle</a> muxMode peerAddr bytes m a b)</span> <a href="src/Ouroboros.Network.PeerSelection.PeerStateActions.html#line-430" class="link">Source</a> <a href="#t:PeerConnectionHandle" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:PeerConnectionHandle:Show:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Ouroboros-Network-PeerSelection-PeerStateActions.html">Ouroboros.Network.PeerSelection.PeerStateActions</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:showsPrec">showsPrec</a> &#8759; <a href="file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/base-4.14.1.0/Data-Int.html#t:Int" title="Data.Int">Int</a> &#8594; <a href="Ouroboros-Network-PeerSelection-PeerStateActions.html#t:PeerConnectionHandle" title="Ouroboros.Network.PeerSelection.PeerStateActions">PeerConnectionHandle</a> muxMode peerAddr bytes m a b &#8594; <a href="file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/base-4.14.1.0/Text-Show.html#t:ShowS" title="Text.Show">ShowS</a> <a href="file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/base-4.14.1.0/src" class="link">Source</a> <a href="#v:showsPrec" class="selflink">#</a></p><p class="src"><a href="#v:show">show</a> &#8759; <a href="Ouroboros-Network-PeerSelection-PeerStateActions.html#t:PeerConnectionHandle" title="Ouroboros.Network.PeerSelection.PeerStateActions">PeerConnectionHandle</a> muxMode peerAddr bytes m a b &#8594; <a href="file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/base-4.14.1.0/Data-String.html#t:String" title="Data.String">String</a> <a href="file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/base-4.14.1.0/src" class="link">Source</a> <a href="#v:show" class="selflink">#</a></p><p class="src"><a href="#v:showList">showList</a> &#8759; [<a href="Ouroboros-Network-PeerSelection-PeerStateActions.html#t:PeerConnectionHandle" title="Ouroboros.Network.PeerSelection.PeerStateActions">PeerConnectionHandle</a> muxMode peerAddr bytes m a b] &#8594; <a href="file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/base-4.14.1.0/Text-Show.html#t:ShowS" title="Text.Show">ShowS</a> <a href="file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/base-4.14.1.0/src" class="link">Source</a> <a href="#v:showList" class="selflink">#</a></p></div></details></td></tr></table></details></div></div><div class="top"><p class="src"><a id="v:withPeerStateActions" class="def">withPeerStateActions</a> &#8759; &#8704; (muxMode &#8759; <a href="file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.4/network-mux-0.1.0.0/noopt/doc/html/network-mux/Network-Mux-Types.html#t:MuxMode" title="Network.Mux.Types">MuxMode</a>) socket peerAddr versionNumber m a b x. (<a href="file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.4/io-classes-0.2.0.0/noopt/doc/html/io-classes/Control-Monad-Class-MonadAsync.html#t:MonadAsync" title="Control.Monad.Class.MonadAsync">MonadAsync</a> m, <a href="file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.4/io-classes-0.2.0.0/noopt/doc/html/io-classes/Control-Monad-Class-MonadThrow.html#t:MonadCatch" title="Control.Monad.Class.MonadThrow">MonadCatch</a> m, <a href="file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.4/io-classes-0.2.0.0/noopt/doc/html/io-classes/Control-Monad-Class-MonadSTM.html#t:MonadLabelledSTM" title="Control.Monad.Class.MonadSTM">MonadLabelledSTM</a> m, <a href="file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.4/io-classes-0.2.0.0/noopt/doc/html/io-classes/Control-Monad-Class-MonadThrow.html#t:MonadMask" title="Control.Monad.Class.MonadThrow">MonadMask</a> m, <a href="file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.4/io-classes-0.2.0.0/noopt/doc/html/io-classes/Control-Monad-Class-MonadTimer.html#t:MonadTimer" title="Control.Monad.Class.MonadTimer">MonadTimer</a> m, <a href="file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.4/io-classes-0.2.0.0/noopt/doc/html/io-classes/Control-Monad-Class-MonadThrow.html#t:MonadThrow" title="Control.Monad.Class.MonadThrow">MonadThrow</a> (<a href="file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.4/io-classes-0.2.0.0/noopt/doc/html/io-classes/Control-Monad-Class-MonadSTM.html#t:STM" title="Control.Monad.Class.MonadSTM">STM</a> m), <a href="file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.4/network-mux-0.1.0.0/noopt/doc/html/network-mux/Network-Mux-Types.html#t:HasInitiator" title="Network.Mux.Types">HasInitiator</a> muxMode ~ <a href="file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/base-4.14.1.0/Data-Bool.html#v:True" title="Data.Bool">True</a>, <a href="file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/base-4.14.1.0/Type-Reflection.html#t:Typeable" title="Type.Reflection">Typeable</a> versionNumber, <a href="file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/base-4.14.1.0/Text-Show.html#t:Show" title="Text.Show">Show</a> versionNumber, <a href="file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/base-4.14.1.0/Data-Ord.html#t:Ord" title="Data.Ord">Ord</a> peerAddr, <a href="file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/base-4.14.1.0/Type-Reflection.html#t:Typeable" title="Type.Reflection">Typeable</a> peerAddr, <a href="file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/base-4.14.1.0/Text-Show.html#t:Show" title="Text.Show">Show</a> peerAddr) &#8658; <a href="Ouroboros-Network-PeerSelection-PeerStateActions.html#t:PeerStateActionsArguments" title="Ouroboros.Network.PeerSelection.PeerStateActions">PeerStateActionsArguments</a> muxMode socket peerAddr versionNumber m a b &#8594; (<a href="Ouroboros-Network-PeerSelection-Governor-Types.html#t:PeerStateActions" title="Ouroboros.Network.PeerSelection.Governor.Types">PeerStateActions</a> peerAddr (<a href="Ouroboros-Network-PeerSelection-PeerStateActions.html#t:PeerConnectionHandle" title="Ouroboros.Network.PeerSelection.PeerStateActions">PeerConnectionHandle</a> muxMode peerAddr <a href="file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/bytestring-0.10.12.0/Data-ByteString-Lazy.html#t:ByteString" title="Data.ByteString.Lazy">ByteString</a> m a b) m &#8594; m x) &#8594; m x <a href="src/Ouroboros.Network.PeerSelection.PeerStateActions.html#withPeerStateActions" class="link">Source</a> <a href="#v:withPeerStateActions" class="selflink">#</a></p></div><a href="#g:1" id="g:1"><h1>Exceptions</h1></a><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:PeerSelectionActionException" class="def">PeerSelectionActionException</a> <a href="src/Ouroboros.Network.PeerSelection.PeerStateActions.html#PeerSelectionActionException" class="link">Source</a> <a href="#t:PeerSelectionActionException" class="selflink">#</a></p><div class="doc"><p>Parent exception of all peer selection action exceptions.</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src">&#8704; e.<a href="file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/base-4.14.1.0/Control-Exception-Base.html#t:Exception" title="Control.Exception.Base">Exception</a> e &#8658;  <a id="v:PeerSelectionActionException" class="def">PeerSelectionActionException</a> e</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="subs instances"><h4 class="instances details-toggle-control details-toggle" data-details-id="i:PeerSelectionActionException">Instances</h4><details id="i:PeerSelectionActionException" open="open"><summary class="hide-when-js-enabled">Instances details</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:PeerSelectionActionException:Show:1"></span> <a href="file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/base-4.14.1.0/Text-Show.html#t:Show" title="Text.Show">Show</a> <a href="Ouroboros-Network-PeerSelection-PeerStateActions.html#t:PeerSelectionActionException" title="Ouroboros.Network.PeerSelection.PeerStateActions">PeerSelectionActionException</a></span> <a href="src/Ouroboros.Network.PeerSelection.PeerStateActions.html#line-443" class="link">Source</a> <a href="#t:PeerSelectionActionException" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:PeerSelectionActionException:Show:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Ouroboros-Network-PeerSelection-PeerStateActions.html">Ouroboros.Network.PeerSelection.PeerStateActions</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:showsPrec">showsPrec</a> &#8759; <a href="file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/base-4.14.1.0/Data-Int.html#t:Int" title="Data.Int">Int</a> &#8594; <a href="Ouroboros-Network-PeerSelection-PeerStateActions.html#t:PeerSelectionActionException" title="Ouroboros.Network.PeerSelection.PeerStateActions">PeerSelectionActionException</a> &#8594; <a href="file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/base-4.14.1.0/Text-Show.html#t:ShowS" title="Text.Show">ShowS</a> <a href="file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/base-4.14.1.0/src" class="link">Source</a> <a href="#v:showsPrec" class="selflink">#</a></p><p class="src"><a href="#v:show">show</a> &#8759; <a href="Ouroboros-Network-PeerSelection-PeerStateActions.html#t:PeerSelectionActionException" title="Ouroboros.Network.PeerSelection.PeerStateActions">PeerSelectionActionException</a> &#8594; <a href="file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/base-4.14.1.0/Data-String.html#t:String" title="Data.String">String</a> <a href="file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/base-4.14.1.0/src" class="link">Source</a> <a href="#v:show" class="selflink">#</a></p><p class="src"><a href="#v:showList">showList</a> &#8759; [<a href="Ouroboros-Network-PeerSelection-PeerStateActions.html#t:PeerSelectionActionException" title="Ouroboros.Network.PeerSelection.PeerStateActions">PeerSelectionActionException</a>] &#8594; <a href="file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/base-4.14.1.0/Text-Show.html#t:ShowS" title="Text.Show">ShowS</a> <a href="file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/base-4.14.1.0/src" class="link">Source</a> <a href="#v:showList" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:PeerSelectionActionException:Exception:2"></span> <a href="file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/base-4.14.1.0/Control-Exception-Base.html#t:Exception" title="Control.Exception.Base">Exception</a> <a href="Ouroboros-Network-PeerSelection-PeerStateActions.html#t:PeerSelectionActionException" title="Ouroboros.Network.PeerSelection.PeerStateActions">PeerSelectionActionException</a></span> <a href="src/Ouroboros.Network.PeerSelection.PeerStateActions.html#line-446" class="link">Source</a> <a href="#t:PeerSelectionActionException" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:PeerSelectionActionException:Exception:2"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Ouroboros-Network-PeerSelection-PeerStateActions.html">Ouroboros.Network.PeerSelection.PeerStateActions</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:toException">toException</a> &#8759; <a href="Ouroboros-Network-PeerSelection-PeerStateActions.html#t:PeerSelectionActionException" title="Ouroboros.Network.PeerSelection.PeerStateActions">PeerSelectionActionException</a> &#8594; <a href="file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/base-4.14.1.0/Control-Exception-Base.html#t:SomeException" title="Control.Exception.Base">SomeException</a> <a href="file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/base-4.14.1.0/src" class="link">Source</a> <a href="#v:toException" class="selflink">#</a></p><p class="src"><a href="#v:fromException">fromException</a> &#8759; <a href="file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/base-4.14.1.0/Control-Exception-Base.html#t:SomeException" title="Control.Exception.Base">SomeException</a> &#8594; <a href="file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/base-4.14.1.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> <a href="Ouroboros-Network-PeerSelection-PeerStateActions.html#t:PeerSelectionActionException" title="Ouroboros.Network.PeerSelection.PeerStateActions">PeerSelectionActionException</a> <a href="file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/base-4.14.1.0/src" class="link">Source</a> <a href="#v:fromException" class="selflink">#</a></p><p class="src"><a href="#v:displayException">displayException</a> &#8759; <a href="Ouroboros-Network-PeerSelection-PeerStateActions.html#t:PeerSelectionActionException" title="Ouroboros.Network.PeerSelection.PeerStateActions">PeerSelectionActionException</a> &#8594; <a href="file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/base-4.14.1.0/Data-String.html#t:String" title="Data.String">String</a> <a href="file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/base-4.14.1.0/src" class="link">Source</a> <a href="#v:displayException" class="selflink">#</a></p></div></details></td></tr></table></details></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:EstablishConnectionException" class="def">EstablishConnectionException</a> versionNumber <a href="src/Ouroboros.Network.PeerSelection.PeerStateActions.html#EstablishConnectionException" class="link">Source</a> <a href="#t:EstablishConnectionException" class="selflink">#</a></p><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:ClientException" class="def">ClientException</a> !(<a href="file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.4/ouroboros-network-framework-0.1.0.0/noopt/doc/html/ouroboros-network-framework/Ouroboros-Network-Protocol-Handshake.html#t:HandshakeException" title="Ouroboros.Network.Protocol.Handshake">HandshakeException</a> versionNumber)</td><td class="doc"><p>Handshake client failed</p></td></tr><tr><td class="src"><a id="v:ServerException" class="def">ServerException</a> !(<a href="file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.4/ouroboros-network-framework-0.1.0.0/noopt/doc/html/ouroboros-network-framework/Ouroboros-Network-Protocol-Handshake.html#t:HandshakeException" title="Ouroboros.Network.Protocol.Handshake">HandshakeException</a> versionNumber)</td><td class="doc"><p>Handshake server failed</p></td></tr></table></div><div class="subs instances"><h4 class="instances details-toggle-control details-toggle" data-details-id="i:EstablishConnectionException">Instances</h4><details id="i:EstablishConnectionException" open="open"><summary class="hide-when-js-enabled">Instances details</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:EstablishConnectionException:Show:1"></span> <a href="file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/base-4.14.1.0/Text-Show.html#t:Show" title="Text.Show">Show</a> versionNumber &#8658; <a href="file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/base-4.14.1.0/Text-Show.html#t:Show" title="Text.Show">Show</a> (<a href="Ouroboros-Network-PeerSelection-PeerStateActions.html#t:EstablishConnectionException" title="Ouroboros.Network.PeerSelection.PeerStateActions">EstablishConnectionException</a> versionNumber)</span> <a href="src/Ouroboros.Network.PeerSelection.PeerStateActions.html#line-465" class="link">Source</a> <a href="#t:EstablishConnectionException" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:EstablishConnectionException:Show:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Ouroboros-Network-PeerSelection-PeerStateActions.html">Ouroboros.Network.PeerSelection.PeerStateActions</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:showsPrec">showsPrec</a> &#8759; <a href="file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/base-4.14.1.0/Data-Int.html#t:Int" title="Data.Int">Int</a> &#8594; <a href="Ouroboros-Network-PeerSelection-PeerStateActions.html#t:EstablishConnectionException" title="Ouroboros.Network.PeerSelection.PeerStateActions">EstablishConnectionException</a> versionNumber &#8594; <a href="file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/base-4.14.1.0/Text-Show.html#t:ShowS" title="Text.Show">ShowS</a> <a href="file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/base-4.14.1.0/src" class="link">Source</a> <a href="#v:showsPrec" class="selflink">#</a></p><p class="src"><a href="#v:show">show</a> &#8759; <a href="Ouroboros-Network-PeerSelection-PeerStateActions.html#t:EstablishConnectionException" title="Ouroboros.Network.PeerSelection.PeerStateActions">EstablishConnectionException</a> versionNumber &#8594; <a href="file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/base-4.14.1.0/Data-String.html#t:String" title="Data.String">String</a> <a href="file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/base-4.14.1.0/src" class="link">Source</a> <a href="#v:show" class="selflink">#</a></p><p class="src"><a href="#v:showList">showList</a> &#8759; [<a href="Ouroboros-Network-PeerSelection-PeerStateActions.html#t:EstablishConnectionException" title="Ouroboros.Network.PeerSelection.PeerStateActions">EstablishConnectionException</a> versionNumber] &#8594; <a href="file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/base-4.14.1.0/Text-Show.html#t:ShowS" title="Text.Show">ShowS</a> <a href="file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/base-4.14.1.0/src" class="link">Source</a> <a href="#v:showList" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:EstablishConnectionException:Exception:2"></span> (<a href="file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/base-4.14.1.0/Text-Show.html#t:Show" title="Text.Show">Show</a> versionNumber, <a href="file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/base-4.14.1.0/Type-Reflection.html#t:Typeable" title="Type.Reflection">Typeable</a> versionNumber) &#8658; <a href="file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/base-4.14.1.0/Control-Exception-Base.html#t:Exception" title="Control.Exception.Base">Exception</a> (<a href="Ouroboros-Network-PeerSelection-PeerStateActions.html#t:EstablishConnectionException" title="Ouroboros.Network.PeerSelection.PeerStateActions">EstablishConnectionException</a> versionNumber)</span> <a href="src/Ouroboros.Network.PeerSelection.PeerStateActions.html#line-467" class="link">Source</a> <a href="#t:EstablishConnectionException" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:EstablishConnectionException:Exception:2"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Ouroboros-Network-PeerSelection-PeerStateActions.html">Ouroboros.Network.PeerSelection.PeerStateActions</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:toException">toException</a> &#8759; <a href="Ouroboros-Network-PeerSelection-PeerStateActions.html#t:EstablishConnectionException" title="Ouroboros.Network.PeerSelection.PeerStateActions">EstablishConnectionException</a> versionNumber &#8594; <a href="file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/base-4.14.1.0/Control-Exception-Base.html#t:SomeException" title="Control.Exception.Base">SomeException</a> <a href="file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/base-4.14.1.0/src" class="link">Source</a> <a href="#v:toException" class="selflink">#</a></p><p class="src"><a href="#v:fromException">fromException</a> &#8759; <a href="file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/base-4.14.1.0/Control-Exception-Base.html#t:SomeException" title="Control.Exception.Base">SomeException</a> &#8594; <a href="file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/base-4.14.1.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> (<a href="Ouroboros-Network-PeerSelection-PeerStateActions.html#t:EstablishConnectionException" title="Ouroboros.Network.PeerSelection.PeerStateActions">EstablishConnectionException</a> versionNumber) <a href="file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/base-4.14.1.0/src" class="link">Source</a> <a href="#v:fromException" class="selflink">#</a></p><p class="src"><a href="#v:displayException">displayException</a> &#8759; <a href="Ouroboros-Network-PeerSelection-PeerStateActions.html#t:EstablishConnectionException" title="Ouroboros.Network.PeerSelection.PeerStateActions">EstablishConnectionException</a> versionNumber &#8594; <a href="file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/base-4.14.1.0/Data-String.html#t:String" title="Data.String">String</a> <a href="file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/base-4.14.1.0/src" class="link">Source</a> <a href="#v:displayException" class="selflink">#</a></p></div></details></td></tr></table></details></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:PeerSelectionTimeoutException" class="def">PeerSelectionTimeoutException</a> peerAddr <a href="src/Ouroboros.Network.PeerSelection.PeerStateActions.html#PeerSelectionTimeoutException" class="link">Source</a> <a href="#t:PeerSelectionTimeoutException" class="selflink">#</a></p><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:DeactivationTimeout" class="def">DeactivationTimeout</a> !(<a href="Ouroboros-Network-NodeToClient.html#t:ConnectionId" title="Ouroboros.Network.NodeToClient">ConnectionId</a> peerAddr)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a id="v:CloseConnectionTimeout" class="def">CloseConnectionTimeout</a> !(<a href="Ouroboros-Network-NodeToClient.html#t:ConnectionId" title="Ouroboros.Network.NodeToClient">ConnectionId</a> peerAddr)</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="subs instances"><h4 class="instances details-toggle-control details-toggle" data-details-id="i:PeerSelectionTimeoutException">Instances</h4><details id="i:PeerSelectionTimeoutException" open="open"><summary class="hide-when-js-enabled">Instances details</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:PeerSelectionTimeoutException:Show:1"></span> <a href="file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/base-4.14.1.0/Text-Show.html#t:Show" title="Text.Show">Show</a> peerAddr &#8658; <a href="file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/base-4.14.1.0/Text-Show.html#t:Show" title="Text.Show">Show</a> (<a href="Ouroboros-Network-PeerSelection-PeerStateActions.html#t:PeerSelectionTimeoutException" title="Ouroboros.Network.PeerSelection.PeerStateActions">PeerSelectionTimeoutException</a> peerAddr)</span> <a href="src/Ouroboros.Network.PeerSelection.PeerStateActions.html#line-477" class="link">Source</a> <a href="#t:PeerSelectionTimeoutException" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:PeerSelectionTimeoutException:Show:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Ouroboros-Network-PeerSelection-PeerStateActions.html">Ouroboros.Network.PeerSelection.PeerStateActions</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:showsPrec">showsPrec</a> &#8759; <a href="file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/base-4.14.1.0/Data-Int.html#t:Int" title="Data.Int">Int</a> &#8594; <a href="Ouroboros-Network-PeerSelection-PeerStateActions.html#t:PeerSelectionTimeoutException" title="Ouroboros.Network.PeerSelection.PeerStateActions">PeerSelectionTimeoutException</a> peerAddr &#8594; <a href="file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/base-4.14.1.0/Text-Show.html#t:ShowS" title="Text.Show">ShowS</a> <a href="file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/base-4.14.1.0/src" class="link">Source</a> <a href="#v:showsPrec" class="selflink">#</a></p><p class="src"><a href="#v:show">show</a> &#8759; <a href="Ouroboros-Network-PeerSelection-PeerStateActions.html#t:PeerSelectionTimeoutException" title="Ouroboros.Network.PeerSelection.PeerStateActions">PeerSelectionTimeoutException</a> peerAddr &#8594; <a href="file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/base-4.14.1.0/Data-String.html#t:String" title="Data.String">String</a> <a href="file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/base-4.14.1.0/src" class="link">Source</a> <a href="#v:show" class="selflink">#</a></p><p class="src"><a href="#v:showList">showList</a> &#8759; [<a href="Ouroboros-Network-PeerSelection-PeerStateActions.html#t:PeerSelectionTimeoutException" title="Ouroboros.Network.PeerSelection.PeerStateActions">PeerSelectionTimeoutException</a> peerAddr] &#8594; <a href="file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/base-4.14.1.0/Text-Show.html#t:ShowS" title="Text.Show">ShowS</a> <a href="file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/base-4.14.1.0/src" class="link">Source</a> <a href="#v:showList" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:PeerSelectionTimeoutException:Exception:2"></span> (<a href="file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/base-4.14.1.0/Text-Show.html#t:Show" title="Text.Show">Show</a> peerAddr, <a href="file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/base-4.14.1.0/Type-Reflection.html#t:Typeable" title="Type.Reflection">Typeable</a> peerAddr) &#8658; <a href="file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/base-4.14.1.0/Control-Exception-Base.html#t:Exception" title="Control.Exception.Base">Exception</a> (<a href="Ouroboros-Network-PeerSelection-PeerStateActions.html#t:PeerSelectionTimeoutException" title="Ouroboros.Network.PeerSelection.PeerStateActions">PeerSelectionTimeoutException</a> peerAddr)</span> <a href="src/Ouroboros.Network.PeerSelection.PeerStateActions.html#line-479" class="link">Source</a> <a href="#t:PeerSelectionTimeoutException" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:PeerSelectionTimeoutException:Exception:2"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Ouroboros-Network-PeerSelection-PeerStateActions.html">Ouroboros.Network.PeerSelection.PeerStateActions</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:toException">toException</a> &#8759; <a href="Ouroboros-Network-PeerSelection-PeerStateActions.html#t:PeerSelectionTimeoutException" title="Ouroboros.Network.PeerSelection.PeerStateActions">PeerSelectionTimeoutException</a> peerAddr &#8594; <a href="file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/base-4.14.1.0/Control-Exception-Base.html#t:SomeException" title="Control.Exception.Base">SomeException</a> <a href="file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/base-4.14.1.0/src" class="link">Source</a> <a href="#v:toException" class="selflink">#</a></p><p class="src"><a href="#v:fromException">fromException</a> &#8759; <a href="file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/base-4.14.1.0/Control-Exception-Base.html#t:SomeException" title="Control.Exception.Base">SomeException</a> &#8594; <a href="file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/base-4.14.1.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> (<a href="Ouroboros-Network-PeerSelection-PeerStateActions.html#t:PeerSelectionTimeoutException" title="Ouroboros.Network.PeerSelection.PeerStateActions">PeerSelectionTimeoutException</a> peerAddr) <a href="file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/base-4.14.1.0/src" class="link">Source</a> <a href="#v:fromException" class="selflink">#</a></p><p class="src"><a href="#v:displayException">displayException</a> &#8759; <a href="Ouroboros-Network-PeerSelection-PeerStateActions.html#t:PeerSelectionTimeoutException" title="Ouroboros.Network.PeerSelection.PeerStateActions">PeerSelectionTimeoutException</a> peerAddr &#8594; <a href="file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/base-4.14.1.0/Data-String.html#t:String" title="Data.String">String</a> <a href="file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/base-4.14.1.0/src" class="link">Source</a> <a href="#v:displayException" class="selflink">#</a></p></div></details></td></tr></table></details></div></div><a href="#g:2" id="g:2"><h1>Trace</h1></a><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:PeerSelectionActionsTrace" class="def">PeerSelectionActionsTrace</a> peerAddr <a href="src/Ouroboros.Network.PeerSelection.PeerStateActions.html#PeerSelectionActionsTrace" class="link">Source</a> <a href="#t:PeerSelectionActionsTrace" class="selflink">#</a></p><div class="doc"><p>Traces produced by <code>peerSelectionActions</code>.</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:PeerStatusChanged" class="def">PeerStatusChanged</a> (PeerStatusChangeType peerAddr)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a id="v:PeerStatusChangeFailure" class="def">PeerStatusChangeFailure</a> (PeerStatusChangeType peerAddr) FailureType</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a id="v:PeerMonitoringError" class="def">PeerMonitoringError</a> (<a href="Ouroboros-Network-NodeToClient.html#t:ConnectionId" title="Ouroboros.Network.NodeToClient">ConnectionId</a> peerAddr) <a href="file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/base-4.14.1.0/Control-Exception-Base.html#t:SomeException" title="Control.Exception.Base">SomeException</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a id="v:PeerMonitoringResult" class="def">PeerMonitoringResult</a> (<a href="Ouroboros-Network-NodeToClient.html#t:ConnectionId" title="Ouroboros.Network.NodeToClient">ConnectionId</a> peerAddr) (<a href="file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.4/ouroboros-network-framework-0.1.0.0/noopt/doc/html/ouroboros-network-framework/Ouroboros-Network-Mux.html#t:WithSomeProtocolTemperature" title="Ouroboros.Network.Mux">WithSomeProtocolTemperature</a> FirstToFinishResult)</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="subs instances"><h4 class="instances details-toggle-control details-toggle" data-details-id="i:PeerSelectionActionsTrace">Instances</h4><details id="i:PeerSelectionActionsTrace" open="open"><summary class="hide-when-js-enabled">Instances details</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:PeerSelectionActionsTrace:Show:1"></span> <a href="file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/base-4.14.1.0/Text-Show.html#t:Show" title="Text.Show">Show</a> peerAddr &#8658; <a href="file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/base-4.14.1.0/Text-Show.html#t:Show" title="Text.Show">Show</a> (<a href="Ouroboros-Network-PeerSelection-PeerStateActions.html#t:PeerSelectionActionsTrace" title="Ouroboros.Network.PeerSelection.PeerStateActions">PeerSelectionActionsTrace</a> peerAddr)</span> <a href="src/Ouroboros.Network.PeerSelection.PeerStateActions.html#line-1055" class="link">Source</a> <a href="#t:PeerSelectionActionsTrace" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:PeerSelectionActionsTrace:Show:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Ouroboros-Network-PeerSelection-PeerStateActions.html">Ouroboros.Network.PeerSelection.PeerStateActions</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:showsPrec">showsPrec</a> &#8759; <a href="file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/base-4.14.1.0/Data-Int.html#t:Int" title="Data.Int">Int</a> &#8594; <a href="Ouroboros-Network-PeerSelection-PeerStateActions.html#t:PeerSelectionActionsTrace" title="Ouroboros.Network.PeerSelection.PeerStateActions">PeerSelectionActionsTrace</a> peerAddr &#8594; <a href="file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/base-4.14.1.0/Text-Show.html#t:ShowS" title="Text.Show">ShowS</a> <a href="file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/base-4.14.1.0/src" class="link">Source</a> <a href="#v:showsPrec" class="selflink">#</a></p><p class="src"><a href="#v:show">show</a> &#8759; <a href="Ouroboros-Network-PeerSelection-PeerStateActions.html#t:PeerSelectionActionsTrace" title="Ouroboros.Network.PeerSelection.PeerStateActions">PeerSelectionActionsTrace</a> peerAddr &#8594; <a href="file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/base-4.14.1.0/Data-String.html#t:String" title="Data.String">String</a> <a href="file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/base-4.14.1.0/src" class="link">Source</a> <a href="#v:show" class="selflink">#</a></p><p class="src"><a href="#v:showList">showList</a> &#8759; [<a href="Ouroboros-Network-PeerSelection-PeerStateActions.html#t:PeerSelectionActionsTrace" title="Ouroboros.Network.PeerSelection.PeerStateActions">PeerSelectionActionsTrace</a> peerAddr] &#8594; <a href="file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/base-4.14.1.0/Text-Show.html#t:ShowS" title="Text.Show">ShowS</a> <a href="file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/base-4.14.1.0/src" class="link">Source</a> <a href="#v:showList" class="selflink">#</a></p></div></details></td></tr></table></details></div></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.24.0</p></div></body></html>